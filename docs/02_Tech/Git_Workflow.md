# Git å·¥ä½œæµç¨‹è§„èŒƒ

> NeuralNote é¡¹ç›®çš„ Git åˆ†æ”¯ç®¡ç†å’Œç‰ˆæœ¬æ§åˆ¶è§„èŒƒ

---

## ğŸ“‹ ç›®å½•

- [åˆ†æ”¯ç­–ç•¥](#åˆ†æ”¯ç­–ç•¥)
- [å·¥ä½œæµç¨‹](#å·¥ä½œæµç¨‹)
- [æäº¤è§„èŒƒ](#æäº¤è§„èŒƒ)
- [å¸¸ç”¨å‘½ä»¤](#å¸¸ç”¨å‘½ä»¤)
- [æ³¨æ„äº‹é¡¹](#æ³¨æ„äº‹é¡¹)

---

## ğŸŒ¿ åˆ†æ”¯ç­–ç•¥

### åˆ†æ”¯è¯´æ˜

| åˆ†æ”¯ | ç”¨é€” | ä½ç½® | æ¨é€åˆ° GitHub |
|------|------|------|--------------|
| **master** | ç¨³å®šç‰ˆæœ¬ï¼Œå¯å‘å¸ƒ | æœ¬åœ° + è¿œç¨‹ | âœ… æ˜¯ |
| **dev** | å¼€å‘åˆ†æ”¯ï¼Œæ—¥å¸¸å¼€å‘ | ä»…æœ¬åœ° | âŒ å¦ |

### è®¾è®¡ç†å¿µ

**ä¸ºä»€ä¹ˆåªæ¨é€ masterï¼Ÿ**

1. **ä¿æŒè¿œç¨‹ä»“åº“ç®€æ´**
   - GitHub ä¸Šåªæœ‰ç¨³å®šçš„ master åˆ†æ”¯
   - é¿å…å¼€å‘ä¸­çš„ä¸ç¨³å®šä»£ç æš´éœ²åœ¨è¿œç¨‹ä»“åº“

2. **æœ¬åœ°çµæ´»å¼€å‘**
   - dev åˆ†æ”¯å¯ä»¥éšæ„æäº¤ã€ä¿®æ”¹ã€å›æ»š
   - ä¸ç”¨æ‹…å¿ƒå½±å“è¿œç¨‹ä»“åº“

3. **æ¸…æ™°çš„ç‰ˆæœ¬ç®¡ç†**
   - master å§‹ç»ˆæ˜¯å¯å‘å¸ƒçš„ç¨³å®šç‰ˆæœ¬
   - æ¯æ¬¡æ¨é€åˆ° GitHub çš„éƒ½æ˜¯ç»è¿‡æµ‹è¯•çš„ä»£ç 

4. **é¿å…æ··æ·†**
   - å›¢é˜Ÿæˆå‘˜æˆ–å¼€æºè´¡çŒ®è€…ä¸ä¼šè¯¯ç”¨å¼€å‘ä¸­çš„åˆ†æ”¯
   - é™ä½åä½œå¤æ‚åº¦

---

## ğŸ”„ å·¥ä½œæµç¨‹

### å®Œæ•´å¼€å‘æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. åœ¨æœ¬åœ° dev åˆ†æ”¯å¼€å‘                                    â”‚
â”‚     git checkout dev                                    â”‚
â”‚     (ç¼–å†™ä»£ç ã€æµ‹è¯•...)                                    â”‚
â”‚     git add .                                           â”‚
â”‚     git commit -m "feat: å®ç°æŸåŠŸèƒ½"                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. åŠŸèƒ½å¼€å‘å®Œæˆï¼Œåˆ‡æ¢åˆ° master                            â”‚
â”‚     git checkout master                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. åˆå¹¶ dev åˆ° masterï¼ˆä¿ç•™åˆå¹¶å†å²ï¼‰                      â”‚
â”‚     git merge dev --no-ff -m "Merge: åŠŸèƒ½æè¿°"           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. æ¨é€ master åˆ° GitHub                                â”‚
â”‚     git push origin master                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. ç»§ç»­å¼€å‘ï¼Œåˆ‡å› dev                                     â”‚
â”‚     git checkout dev                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è¯¦ç»†æ­¥éª¤è¯´æ˜

#### æ­¥éª¤ 1ï¼šåœ¨ dev åˆ†æ”¯å¼€å‘

```bash
# ç¡®ä¿åœ¨ dev åˆ†æ”¯
git checkout dev

# æŸ¥çœ‹å½“å‰çŠ¶æ€
git status

# ç¼–å†™ä»£ç ...

# æ·»åŠ æ‰€æœ‰æ›´æ”¹
git add .

# æäº¤ï¼ˆä½¿ç”¨è§„èŒƒçš„æäº¤ä¿¡æ¯ï¼‰
git commit -m "feat: å®ç°æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½"

# å¯ä»¥å¤šæ¬¡æäº¤
git commit -m "fix: ä¿®å¤ä¸Šä¼ æ–‡ä»¶å¤§å°é™åˆ¶é—®é¢˜"
git commit -m "docs: æ›´æ–° API æ–‡æ¡£"
```

#### æ­¥éª¤ 2ï¼šåˆ‡æ¢åˆ° master

```bash
# åˆ‡æ¢åˆ° master åˆ†æ”¯
git checkout master

# ç¡®è®¤å½“å‰åœ¨ master åˆ†æ”¯
git branch
# è¾“å‡ºï¼š* master
#       dev
```

#### æ­¥éª¤ 3ï¼šåˆå¹¶ dev åˆ° masterï¼ˆâš ï¸ å¿…é¡»ä½¿ç”¨ --no-ffï¼‰

```bash
# âœ… æ­£ç¡®ï¼šä½¿ç”¨ --no-ff ä¿ç•™åˆå¹¶å†å²ï¼ˆå¼ºåˆ¶è¦æ±‚ï¼‰
git merge dev --no-ff -m "Merge branch 'dev': æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½

âœ¨ æ–°å¢åŠŸèƒ½ï¼š
- æ–‡ä»¶ä¸Šä¼ æœåŠ¡
- æœ¬åœ°å­˜å‚¨å’Œ OSS æ”¯æŒ
- æ–‡ä»¶éªŒè¯å’Œå¤§å°é™åˆ¶

ğŸ“ API æ¥å£ï¼š
- POST /api/v1/files/upload
- GET /api/v1/files/list
- DELETE /api/v1/files/{file_id}

ğŸ”§ æŠ€æœ¯å®ç°ï¼š
- ç»Ÿä¸€å­˜å‚¨æ¥å£
- è‡ªåŠ¨åˆ‡æ¢æœ¬åœ°/OSS
- å®Œæ•´çš„é”™è¯¯å¤„ç†"

# âŒ é”™è¯¯ï¼šä¸ä½¿ç”¨ --no-ffï¼ˆç¦æ­¢ï¼ï¼‰
git merge dev  # è¿™ä¼šå¯¼è‡´ fast-forwardï¼Œä¸¢å¤±åˆ†æ”¯å†å²
```

**âš ï¸ ä¸ºä»€ä¹ˆå¿…é¡»ä½¿ç”¨ `--no-ff`ï¼Ÿï¼ˆé¡¹ç›®å¼ºåˆ¶è¦æ±‚ï¼‰**

1. **ä¿ç•™å®Œæ•´çš„åˆ†æ”¯åˆå¹¶å†å²**
   - å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°å“ªäº›æäº¤æ˜¯ä» dev åˆå¹¶è¿‡æ¥çš„
   - Git å›¾ä¼šæ˜¾ç¤ºåˆ†æ”¯ç»“æ„ï¼Œè€Œä¸æ˜¯ä¸€æ¡ç›´çº¿

2. **ä¾¿äºå›æ»šæ•´ä¸ªåŠŸèƒ½**
   - å¦‚æœéœ€è¦å›æ»šï¼Œå¯ä»¥ç›´æ¥å›æ»šæ•´ä¸ªåˆå¹¶æäº¤
   - ä¸ä¼šå½±å“å…¶ä»–åŠŸèƒ½

3. **æ¸…æ™°çš„å¼€å‘å†å²**
   - å¯ä»¥çœ‹å‡ºé¡¹ç›®çš„å¼€å‘èŠ‚å¥å’ŒåŠŸèƒ½è¿­ä»£
   - ä¾¿äºä»£ç å®¡æŸ¥å’Œé—®é¢˜è¿½è¸ª

**Git å›¾å¯¹æ¯”**ï¼š

```
ä½¿ç”¨ --no-ffï¼ˆæ­£ç¡®ï¼‰ï¼š
*   e2c4fca (master) Merge branch 'dev': æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
|\  
| * 8c3177c (dev) feat: å®Œæˆå‰ç«¯åŸºç¡€æ¶æ„
| * 315ae25 refactor: ç§»åŠ¨æ–‡æ¡£
| * 71bae2b fix: ä¿®æ­£è§„èŒƒ
|/  
*   83ede27 Merge branch 'dev': åç«¯åŠŸèƒ½

ä¸ä½¿ç”¨ --no-ffï¼ˆé”™è¯¯ï¼‰ï¼š
* 8c3177c (master, dev) feat: å®Œæˆå‰ç«¯åŸºç¡€æ¶æ„
* 315ae25 refactor: ç§»åŠ¨æ–‡æ¡£
* 71bae2b fix: ä¿®æ­£è§„èŒƒ
* 83ede27 Merge branch 'dev': åç«¯åŠŸèƒ½
```

**ğŸ”´ é¡¹ç›®è§„èŒƒ**ï¼š
- âœ… **å¿…é¡»ä½¿ç”¨** `git merge dev --no-ff`
- âŒ **ç¦æ­¢ä½¿ç”¨** `git merge dev`ï¼ˆä¼šè§¦å‘ fast-forwardï¼‰
- âœ… ä¿æŒåˆ†æ”¯å†å²å¯è§ï¼Œä¾¿äºç®¡ç†å’Œå›æ»š

#### æ­¥éª¤ 4ï¼šæ¨é€åˆ° GitHub

```bash
# æ¨é€ master åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“
git push origin master

# è¾“å‡ºç¤ºä¾‹ï¼š
# To github.com:lalaqdland/NeuralNote.git
#    8e7a316..e2c4fca  master -> master
```

**âš ï¸ æ³¨æ„**ï¼š
- âŒ **ä¸è¦æ¨é€ dev åˆ†æ”¯**ï¼š`git push origin dev`ï¼ˆç¦æ­¢ï¼‰
- âœ… **åªæ¨é€ master åˆ†æ”¯**ï¼š`git push origin master`ï¼ˆæ­£ç¡®ï¼‰

#### æ­¥éª¤ 5ï¼šç»§ç»­å¼€å‘

```bash
# åˆ‡å› dev åˆ†æ”¯ç»§ç»­å¼€å‘
git checkout dev

# å¼€å§‹æ–°åŠŸèƒ½çš„å¼€å‘...
```

---

## ğŸ“ æäº¤è§„èŒƒ

### Commit Message æ ¼å¼

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

```
<type>(<scope>): <subject>

<body>

<footer>
```

### Type ç±»å‹

| Type | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| **feat** | æ–°åŠŸèƒ½ | `feat: å®ç°æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½` |
| **fix** | Bug ä¿®å¤ | `fix: ä¿®å¤ç™»å½•å¤±è´¥é—®é¢˜` |
| **docs** | æ–‡æ¡£æ›´æ–° | `docs: æ›´æ–° API æ–‡æ¡£` |
| **style** | ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰ | `style: æ ¼å¼åŒ–ä»£ç ` |
| **refactor** | é‡æ„ï¼ˆä¸æ˜¯æ–°åŠŸèƒ½ä¹Ÿä¸æ˜¯ä¿®å¤ï¼‰ | `refactor: é‡æ„æ–‡ä»¶å­˜å‚¨æœåŠ¡` |
| **perf** | æ€§èƒ½ä¼˜åŒ– | `perf: ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢` |
| **test** | æµ‹è¯•ç›¸å…³ | `test: æ·»åŠ æ–‡ä»¶ä¸Šä¼ æµ‹è¯•` |
| **chore** | æ„å»º/å·¥å…·ç›¸å…³ | `chore: æ›´æ–°ä¾èµ–åŒ…` |
| **revert** | å›æ»š | `revert: å›æ»šæ–‡ä»¶ä¸Šä¼ åŠŸèƒ½` |

### æäº¤ä¿¡æ¯ç¤ºä¾‹

#### ç®€å•æäº¤

```bash
git commit -m "feat: å®ç°ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½"
git commit -m "fix: ä¿®å¤å¯†ç åŠ å¯†é—®é¢˜"
git commit -m "docs: æ›´æ–° README"
```

#### è¯¦ç»†æäº¤

```bash
git commit -m "feat: å®ç°æ–‡ä»¶ä¸Šä¼ ã€OCRè¯†åˆ«å’ŒAIåˆ†æåŠŸèƒ½

âœ¨ æ–°å¢åŠŸèƒ½ï¼š
- æ–‡ä»¶ä¸Šä¼ æœåŠ¡ï¼ˆæ”¯æŒæœ¬åœ°å­˜å‚¨å’Œé˜¿é‡Œäº‘OSSï¼‰
- ç™¾åº¦OCRè¯†åˆ«æœåŠ¡ï¼ˆé€šç”¨æ–‡å­—è¯†åˆ«+é«˜ç²¾åº¦ç‰ˆï¼‰
- AIåˆ†ææœåŠ¡ï¼ˆDeepSeek + OpenAI GPT-4ï¼‰
- å®Œæ•´å·¥ä½œæµAPIï¼ˆä¸Šä¼ â†’OCRâ†’AIâ†’åˆ›å»ºèŠ‚ç‚¹ï¼‰

ğŸ“ APIæ¥å£ï¼š
- æ–‡ä»¶ä¸Šä¼ ï¼š5ä¸ªæ¥å£ï¼ˆä¸Šä¼ ã€åˆ—è¡¨ã€è¯¦æƒ…ã€åˆ é™¤ã€æ‰¹é‡åˆ é™¤ï¼‰
- OCRè¯†åˆ«ï¼š2ä¸ªæ¥å£ï¼ˆè¯†åˆ«å›¾ç‰‡ã€æ‰¹é‡è¯†åˆ«ï¼‰
- AIåˆ†æï¼š4ä¸ªæ¥å£ï¼ˆåˆ†ææ–‡æœ¬ã€ç”Ÿæˆæ‘˜è¦ã€æå–å…³é”®è¯ã€å®Œæ•´å·¥ä½œæµï¼‰

ğŸ”§ æŠ€æœ¯å®ç°ï¼š
- æ™ºèƒ½å¼•æ“é€‰æ‹©ï¼ˆDeepSeekä¼˜å…ˆï¼Œé™ä½æˆæœ¬ï¼‰
- Tokenç¼“å­˜æœºåˆ¶ï¼ˆç™¾åº¦OCRï¼Œ30å¤©æœ‰æ•ˆæœŸï¼‰
- ç»Ÿä¸€å­˜å‚¨æ¥å£ï¼ˆæœ¬åœ°/OSSè‡ªåŠ¨åˆ‡æ¢ï¼‰
- å‘é‡åµŒå…¥æ”¯æŒï¼ˆ1536ç»´åº¦ï¼‰

ğŸ“š æ–‡æ¡£æ›´æ–°ï¼š
- æ›´æ–°TODO.mdè¿›åº¦ï¼ˆ40%å®Œæˆï¼‰
- è®°å½•æŠ€æœ¯å†³ç­–åˆ°DevLog
- æ·»åŠ é…ç½®è¯´æ˜æ–‡æ¡£
- æ›´æ–°NextDevPromptå¼€å‘æç¤º

ğŸ”’ å®‰å…¨æ”¹è¿›ï¼š
- æ‰€æœ‰APIå¯†é’¥å­˜å‚¨åœ¨.envæ–‡ä»¶
- .gitignoreå·²é…ç½®ï¼Œé˜²æ­¢æ•æ„Ÿä¿¡æ¯æ³„éœ²
- æ–‡æ¡£ä¸­ä½¿ç”¨å ä½ç¬¦ï¼Œä¸æš´éœ²çœŸå®å¯†é’¥"
```

---

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤

### åˆ†æ”¯æ“ä½œ

```bash
# æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯
git branch

# æŸ¥çœ‹æœ¬åœ°å’Œè¿œç¨‹åˆ†æ”¯
git branch -a

# åˆ‡æ¢åˆ†æ”¯
git checkout dev
git checkout master

# åˆ›å»ºå¹¶åˆ‡æ¢åˆ°æ–°åˆ†æ”¯ï¼ˆå¦‚æœéœ€è¦ï¼‰
git checkout -b feature/new-feature
```

### æäº¤æ“ä½œ

```bash
# æŸ¥çœ‹çŠ¶æ€
git status

# æŸ¥çœ‹ä¿®æ”¹å†…å®¹
git diff

# æ·»åŠ æ–‡ä»¶
git add .                    # æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add src/backend/app/     # æ·»åŠ æŒ‡å®šç›®å½•
git add file.py              # æ·»åŠ æŒ‡å®šæ–‡ä»¶

# æäº¤
git commit -m "æäº¤ä¿¡æ¯"

# ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤
git commit --amend
```

### åˆå¹¶æ“ä½œ

```bash
# åˆå¹¶ dev åˆ°å½“å‰åˆ†æ”¯ï¼ˆä¿ç•™åˆå¹¶å†å²ï¼‰
git merge dev --no-ff -m "Merge: åŠŸèƒ½æè¿°"

# æŸ¥çœ‹åˆå¹¶å†å²
git log --graph --oneline --all
```

### æ¨é€æ“ä½œ

```bash
# æ¨é€ master åˆ°è¿œç¨‹
git push origin master

# æŸ¥çœ‹è¿œç¨‹ä»“åº“
git remote -v

# æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯
git branch -r
```

### æŸ¥çœ‹å†å²

```bash
# æŸ¥çœ‹æäº¤å†å²
git log

# æŸ¥çœ‹ç®€æ´å†å²
git log --oneline

# æŸ¥çœ‹å›¾å½¢åŒ–å†å²
git log --graph --oneline --all

# æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„å†å²
git log -- path/to/file
```

### æ’¤é”€æ“ä½œ

```bash
# æ’¤é”€å·¥ä½œåŒºçš„ä¿®æ”¹ï¼ˆæœª addï¼‰
git checkout -- file.py

# æ’¤é”€æš‚å­˜åŒºçš„ä¿®æ”¹ï¼ˆå·² addï¼Œæœª commitï¼‰
git reset HEAD file.py

# å›æ»šåˆ°ä¸Šä¸€æ¬¡æäº¤ï¼ˆå±é™©æ“ä½œï¼ï¼‰
git reset --hard HEAD^

# æŸ¥çœ‹æ‰€æœ‰æ“ä½œè®°å½•ï¼ˆå¯ä»¥æ¢å¤è¯¯åˆ çš„æäº¤ï¼‰
git reflog
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. æ°¸è¿œä¸è¦æ¨é€ dev åˆ†æ”¯ ğŸš«

**è¿™æ˜¯æœ€é‡è¦çš„è§„åˆ™ï¼**

```bash
# âŒ é”™è¯¯ï¼šæ¨é€ dev åˆ†æ”¯ï¼ˆç¦æ­¢ï¼ï¼‰
git push origin dev

# âœ… æ­£ç¡®ï¼šåªæ¨é€ master åˆ†æ”¯
git push origin master
```

**ä¸ºä»€ä¹ˆä¸æ¨é€ dev åˆ†æ”¯ï¼Ÿ**
1. **ä¿æŒè¿œç¨‹ä»“åº“ç®€æ´**ï¼šGitHub ä¸Šåªæœ‰ç¨³å®šçš„ master åˆ†æ”¯
2. **é¿å…æ··æ·†**ï¼šå›¢é˜Ÿæˆå‘˜ä¸ä¼šè¯¯ç”¨å¼€å‘ä¸­çš„åˆ†æ”¯
3. **æœ¬åœ°çµæ´»å¼€å‘**ï¼šdev åˆ†æ”¯å¯ä»¥éšæ„æäº¤ã€ä¿®æ”¹ã€å›æ»š
4. **æ¸…æ™°çš„ç‰ˆæœ¬ç®¡ç†**ï¼šmaster å§‹ç»ˆæ˜¯å¯å‘å¸ƒçš„ç¨³å®šç‰ˆæœ¬

**å¦‚æœä¸å°å¿ƒæ¨é€äº† dev åˆ†æ”¯ï¼Œç«‹å³åˆ é™¤**ï¼š

```bash
# åˆ é™¤è¿œç¨‹ dev åˆ†æ”¯
git push origin --delete dev

# ç¡®è®¤åˆ é™¤æˆåŠŸ
git branch -r
# åº”è¯¥åªçœ‹åˆ° origin/masterï¼Œæ²¡æœ‰ origin/dev
```

**âš ï¸ é‡è¦æé†’**ï¼š
- æ¯æ¬¡æ¨é€å‰ï¼ŒåŠ¡å¿…ç¡®è®¤å½“å‰åˆ†æ”¯æ˜¯ master
- ä½¿ç”¨ `git branch` æŸ¥çœ‹å½“å‰åˆ†æ”¯
- ä½¿ç”¨ `git push origin master` æ˜ç¡®æŒ‡å®šæ¨é€ master

### 2. åˆå¹¶å‰ç¡®ä¿ä»£ç å·²æµ‹è¯•

åœ¨åˆå¹¶åˆ° master ä¹‹å‰ï¼Œç¡®ä¿ï¼š
- âœ… ä»£ç å·²ç»è¿‡æµ‹è¯•
- âœ… æ²¡æœ‰æ˜æ˜¾çš„ Bug
- âœ… åŠŸèƒ½å®Œæ•´å¯ç”¨
- âœ… æ–‡æ¡£å·²æ›´æ–°

### 3. å¿…é¡»ä½¿ç”¨ --no-ff åˆå¹¶ï¼ˆé¡¹ç›®å¼ºåˆ¶è¦æ±‚ï¼‰

```bash
# âœ… æ­£ç¡®ï¼šä¿ç•™åˆå¹¶å†å²ï¼ˆå¼ºåˆ¶è¦æ±‚ï¼‰
git merge dev --no-ff -m "Merge: åŠŸèƒ½æè¿°"

# âŒ é”™è¯¯ï¼šå¿«è¿›åˆå¹¶ï¼ˆç¦æ­¢ï¼ä¼šä¸¢å¤±åˆ†æ”¯ä¿¡æ¯ï¼‰
git merge dev
```

**ä¸ºä»€ä¹ˆå¿…é¡»ä½¿ç”¨ --no-ffï¼Ÿ**

è¿™æ˜¯é¡¹ç›®çš„å¼ºåˆ¶è§„èŒƒï¼ŒåŸå› å¦‚ä¸‹ï¼š

1. **ä¿ç•™åˆ†æ”¯å†å²**
   - å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°å“ªäº›æäº¤æ¥è‡ª dev åˆ†æ”¯
   - Git å›¾ä¼šæ˜¾ç¤ºåˆ†æ”¯ç»“æ„ï¼Œè€Œä¸æ˜¯ä¸€æ¡ç›´çº¿

2. **ä¾¿äºåŠŸèƒ½ç®¡ç†**
   - æ¯ä¸ªåŠŸèƒ½éƒ½æœ‰æ˜ç¡®çš„åˆå¹¶ç‚¹
   - æ–¹ä¾¿å›æ»šæ•´ä¸ªåŠŸèƒ½æ¨¡å—

3. **æ¸…æ™°çš„å¼€å‘å†å²**
   - å¯ä»¥çœ‹å‡ºé¡¹ç›®çš„å¼€å‘èŠ‚å¥
   - ä¾¿äºä»£ç å®¡æŸ¥å’Œé—®é¢˜è¿½è¸ª

**Git å›¾å¯¹æ¯”**ï¼š

```
ä½¿ç”¨ --no-ffï¼ˆæ­£ç¡®ï¼‰ï¼š
*   e2c4fca (master) Merge branch 'dev': å‰ç«¯å¼€å‘
|\  
| * 8c3177c (dev) feat: å®Œæˆå‰ç«¯æ¶æ„
| * 315ae25 refactor: ç§»åŠ¨æ–‡æ¡£
|/  
*   83ede27 Merge branch 'dev': åç«¯åŠŸèƒ½
    â†‘ å¯ä»¥çœ‹åˆ°åˆ†æ”¯ç»“æ„

ä¸ä½¿ç”¨ --no-ffï¼ˆé”™è¯¯ï¼‰ï¼š
* 8c3177c (master, dev) feat: å®Œæˆå‰ç«¯æ¶æ„
* 315ae25 refactor: ç§»åŠ¨æ–‡æ¡£
* 83ede27 Merge branch 'dev': åç«¯åŠŸèƒ½
    â†‘ çœ‹èµ·æ¥åƒä¸€æ¡ç›´çº¿ï¼Œä¸¢å¤±äº†åˆ†æ”¯ä¿¡æ¯
```

**ğŸ”´ é‡è¦**ï¼š
- æ¯æ¬¡åˆå¹¶éƒ½å¿…é¡»ä½¿ç”¨ `--no-ff`
- è¿™æ˜¯é¡¹ç›®çš„å¼ºåˆ¶è§„èŒƒï¼Œä¸å¯è¿å
- ä¿æŒ Git å†å²çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§

### 4. å®šæœŸåŒæ­¥ master åˆ° dev

å¦‚æœåœ¨ master ä¸Šæœ‰ç´§æ€¥ä¿®å¤ï¼Œè®°å¾—åŒæ­¥åˆ° devï¼š

```bash
# åœ¨ master ä¸Šä¿®å¤ Bug
git checkout master
git commit -m "fix: ç´§æ€¥ä¿®å¤"
git push origin master

# åŒæ­¥åˆ° dev
git checkout dev
git merge master
```

### 5. æäº¤å‰æ£€æŸ¥çŠ¶æ€

```bash
# æŸ¥çœ‹å“ªäº›æ–‡ä»¶è¢«ä¿®æ”¹
git status

# æŸ¥çœ‹å…·ä½“ä¿®æ”¹å†…å®¹
git diff

# ç¡®è®¤æ— è¯¯åå†æäº¤
git add .
git commit -m "..."
```

### 6. ä¸è¦æäº¤æ•æ„Ÿä¿¡æ¯

ç¡®ä¿ `.gitignore` å·²é…ç½®ï¼š

```gitignore
# ç¯å¢ƒå˜é‡ï¼ˆåŒ…å« API å¯†é’¥ï¼‰
.env
.env.local
.env.*.local

# æ•°æ®åº“æ–‡ä»¶
*.db
*.sqlite

# ä¸Šä¼ çš„æ–‡ä»¶
uploads/

# IDE é…ç½®
.vscode/
.idea/
```

### 7. æäº¤ä¿¡æ¯è¦æ¸…æ™°

```bash
# âŒ ä¸å¥½çš„æäº¤ä¿¡æ¯
git commit -m "ä¿®æ”¹"
git commit -m "update"
git commit -m "fix bug"

# âœ… å¥½çš„æäº¤ä¿¡æ¯
git commit -m "feat: å®ç°æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½"
git commit -m "fix: ä¿®å¤ç™»å½•å¤±è´¥é—®é¢˜"
git commit -m "docs: æ›´æ–° API æ–‡æ¡£"
```

### 8. æµ‹è¯•æ–‡ä»¶å¿…é¡»æ”¾åœ¨ tests/ ç›®å½• ğŸ“

**è¿™æ˜¯å¼ºåˆ¶è§„èŒƒï¼**

```
âœ… æ­£ç¡®çš„æµ‹è¯•æ–‡ä»¶ä½ç½®ï¼š
src/backend/tests/
â”œâ”€â”€ test_auth.py
â”œâ”€â”€ test_api.py
â”œâ”€â”€ test_file_storage.py
â”œâ”€â”€ test_ocr_service.py
â”œâ”€â”€ test_ai_service.py
â”œâ”€â”€ test_review_service.py
â””â”€â”€ test_vector_search.py

âŒ é”™è¯¯çš„æµ‹è¯•æ–‡ä»¶ä½ç½®ï¼š
src/backend/
â”œâ”€â”€ test_auth.py          â† é”™è¯¯ï¼ä¸è¦æ”¾åœ¨è¿™é‡Œ
â”œâ”€â”€ test_api.py           â† é”™è¯¯ï¼ä¸è¦æ”¾åœ¨è¿™é‡Œ
â””â”€â”€ test_something.py     â† é”™è¯¯ï¼ä¸è¦æ”¾åœ¨è¿™é‡Œ
```

**ä¸ºä»€ä¹ˆè¦ç»Ÿä¸€æ”¾åœ¨ tests/ ç›®å½•ï¼Ÿ**
1. **é¡¹ç›®ç»“æ„æ¸…æ™°**ï¼šæµ‹è¯•ä»£ç å’Œä¸šåŠ¡ä»£ç åˆ†ç¦»
2. **ä¾¿äºç®¡ç†**ï¼šæ‰€æœ‰æµ‹è¯•æ–‡ä»¶é›†ä¸­ç®¡ç†
3. **å·¥å…·æ”¯æŒ**ï¼špytest ç­‰æµ‹è¯•å·¥å…·é»˜è®¤æŸ¥æ‰¾ tests/ ç›®å½•
4. **é¿å…æ··æ·†**ï¼šä¸ä¼šè¯¯å°†æµ‹è¯•æ–‡ä»¶å½“ä½œä¸šåŠ¡ä»£ç 

**å¦‚ä½•ç§»åŠ¨é”™æ”¾çš„æµ‹è¯•æ–‡ä»¶**ï¼š

```bash
# ä½¿ç”¨ git mv ç§»åŠ¨æ–‡ä»¶ï¼ˆä¿ç•™ Git å†å²ï¼‰
git mv test_something.py tests/test_something.py

# æäº¤
git commit -m "chore: ç§»åŠ¨æµ‹è¯•æ–‡ä»¶åˆ° tests/ ç›®å½•"
```

**âš ï¸ é‡è¦æé†’**ï¼š
- æ‰€æœ‰ä»¥ `test_` å¼€å¤´çš„æ–‡ä»¶éƒ½åº”è¯¥åœ¨ `tests/` ç›®å½•
- åˆ›å»ºæ–°æµ‹è¯•æ–‡ä»¶æ—¶ï¼Œç›´æ¥åœ¨ `tests/` ç›®å½•åˆ›å»º
- å®šæœŸæ£€æŸ¥é¡¹ç›®æ ¹ç›®å½•ï¼Œç¡®ä¿æ²¡æœ‰æµ‹è¯•æ–‡ä»¶æ•£è½åœ¨å¤–

---

## ğŸ¯ å¿«é€Ÿå‚è€ƒ

### æ—¥å¸¸å¼€å‘æµç¨‹

```bash
# 1. å¼€å§‹å¼€å‘
git checkout dev

# 2. ç¼–å†™ä»£ç ...

# 3. æäº¤
git add .
git commit -m "feat: å®ç°æŸåŠŸèƒ½"

# 4. åŠŸèƒ½å®Œæˆï¼Œåˆå¹¶åˆ° master
git checkout master
git merge dev --no-ff -m "Merge: åŠŸèƒ½æè¿°"

# 5. æ¨é€åˆ° GitHub
git push origin master

# 6. ç»§ç»­å¼€å‘
git checkout dev
```

### ç´§æ€¥ä¿®å¤æµç¨‹

```bash
# 1. åœ¨ master ä¸Šä¿®å¤
git checkout master
git commit -m "fix: ç´§æ€¥ä¿®å¤"
git push origin master

# 2. åŒæ­¥åˆ° dev
git checkout dev
git merge master
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [API è®¾è®¡æ–‡æ¡£](./API_Design.md)
- [æ•°æ®åº“é…ç½®æ–‡æ¡£](./Database_Setup.md)
- [å¼€å‘æ—¥å¿—](../03_Logs/DevLog.md)
- [å¼€å‘ä»»åŠ¡æ¸…å•](../../TODO.md)

---

## ğŸ”— å‚è€ƒèµ„æ–™

- [Git å®˜æ–¹æ–‡æ¡£](https://git-scm.com/doc)
- [Conventional Commits](https://www.conventionalcommits.org/)
- [GitHub Flow](https://guides.github.com/introduction/flow/)
- [Git åˆ†æ”¯ç®¡ç†ç­–ç•¥](https://nvie.com/posts/a-successful-git-branching-model/)

---

---

## ğŸ”´ æ ¸å¿ƒè§„åˆ™æ€»ç»“

### å¿…é¡»éµå®ˆçš„è§„åˆ™

1. **âŒ æ°¸è¿œä¸è¦æ¨é€ dev åˆ†æ”¯åˆ° GitHub**
   ```bash
   git push origin dev  # ç¦æ­¢ï¼
   ```

2. **âœ… åªæ¨é€ master åˆ†æ”¯åˆ° GitHub**
   ```bash
   git push origin master  # æ­£ç¡®ï¼
   ```

3. **ğŸ”€ åˆå¹¶æ—¶å¿…é¡»ä½¿ç”¨ --no-ffï¼ˆå¼ºåˆ¶è¦æ±‚ï¼‰**
   ```bash
   git merge dev --no-ff -m "Merge: æè¿°"  # æ­£ç¡®ï¼
   git merge dev                           # ç¦æ­¢ï¼
   ```
   **åŸå› **ï¼šä¿ç•™åˆ†æ”¯å†å²ï¼Œé¿å… fast-forwardï¼Œä½¿ Git å›¾æ˜¾ç¤ºåˆ†æ”¯ç»“æ„

4. **ğŸ“ æ‰€æœ‰æµ‹è¯•æ–‡ä»¶å¿…é¡»æ”¾åœ¨ tests/ ç›®å½•**
   ```
   src/backend/tests/test_*.py  # æ­£ç¡®ï¼
   src/backend/test_*.py        # é”™è¯¯ï¼
   ```

5. **ğŸ”’ ä¸è¦æäº¤æ•æ„Ÿä¿¡æ¯**
   - API å¯†é’¥æ”¾åœ¨ `.env` æ–‡ä»¶
   - ç¡®ä¿ `.env` åœ¨ `.gitignore` ä¸­

6. **ğŸ“ ä½¿ç”¨è§„èŒƒçš„æäº¤ä¿¡æ¯**
   ```bash
   git commit -m "feat: åŠŸèƒ½æè¿°"
   git commit -m "fix: ä¿®å¤æè¿°"
   git commit -m "docs: æ–‡æ¡£æ›´æ–°"
   ```

### è¿åè§„åˆ™çš„å¤„ç†

**å¦‚æœæ¨é€äº† dev åˆ†æ”¯**ï¼š
```bash
git push origin --delete dev
```

**å¦‚æœæµ‹è¯•æ–‡ä»¶æ”¾é”™ä½ç½®**ï¼š
```bash
git mv test_file.py tests/test_file.py
git commit -m "chore: ç§»åŠ¨æµ‹è¯•æ–‡ä»¶åˆ°æ­£ç¡®ä½ç½®"
```

**å¦‚æœæäº¤äº†æ•æ„Ÿä¿¡æ¯**ï¼š
```bash
# ä» Git å†å²ä¸­åˆ é™¤æ•æ„Ÿæ–‡ä»¶
git filter-branch --force --index-filter \
  "git rm --cached --ignore-unmatch path/to/sensitive/file" \
  --prune-empty --tag-name-filter cat -- --all

# å¼ºåˆ¶æ¨é€
git push origin master --force

# ç«‹å³æ›´æ¢æ³„éœ²çš„å¯†é’¥
```

---

*æœ¬æ–‡æ¡£ç”± NeuralNote å¼€å‘å›¢é˜Ÿç»´æŠ¤*  
*æœ€åæ›´æ–°ï¼š2026-02-01*

