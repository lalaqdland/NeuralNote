# 知识图谱学习助手产品设计方案

## 文档信息

| 项目 | 内容 |
|-----|------|
| 产品名称 | **纽伦笔记 (NeuralNote)** |
| Slogan | Be Your Own Memory Architect. (做你自己的记忆架构师) |
| 版本 | V1.3 |
| 文档状态 | 正式发布 |
| 创建日期 | 2026年1月26日 |
| 修订日期 | 2026年1月28日 |
| 文档用途 | 产品设计蓝图 |

---

## 一、产品定位与核心价值

### 1.1 产品愿景

**纽伦笔记（NeuralNote）**是一款基于人工智能的智能学习管理工具，致力于帮助用户将零散的刷题经历转化为结构化的个人知识资产。产品核心理念是"**把一次性的刷题行为，转化为永久性的、可视化的、带有生命周期的知识资产**"。它是一本会呼吸的、可视化的个人错题全书，让每一道做过的题目都不被浪费。

通过AI自动分析题目间的关联性，构建可视化的知识网络，让用户能够清晰地看到自己的学习轨迹，掌握自己的知识盲区，从而实现高效复习和持续进步。

### 1.2 核心价值主张

本产品的核心价值可以概括为三个关键词：**自动化**、**可视化**、**资产化**。

- **自动化**体现在用户只需要上传题目图片，AI会自动完成识别、解答、归类等一系列操作，极大降低用户的使用门槛。
- **可视化**体现在知识图谱以直观的图形方式展示，用户可以一目了然地看到知识点的分布和关联。
- **资产化**体现在用户存入的题目越多，图谱就越漂亮，形成巨大的迁移成本，让用户越用越离不开，题目真正成为用户自己的知识资产。

具体而言，产品为用户带来的核心价值包括：

- **降低认知负担**：用户不需要手动整理知识点，AI会帮助用户完成繁琐的分类和组织工作。
- **提升复习效率**：通过可视化的知识图谱和智能复习提醒，用户可以快速定位需要复习的内容，避免时间浪费在已经掌握的知识上。
- **形成个人知识资产**：随着使用时间的积累，用户会拥有一张独一无二的知识网络，这将成为用户最宝贵的学习财富。

### 1.3 设计核心理念

本产品的设计核心理念是"**用户只做选择，不做分类**"。这一理念源自对用户需求的深入洞察：用户在刷题过程中已经承受了较大的认知负担，不应该再花费额外的时间和精力进行知识整理。因此，产品将繁琐的分类和组织工作交给AI自动完成，用户只需要在AI提供的选项中进行选择确认即可。

这种"AI分析+用户确认"的模式，既发挥了AI的自动化优势，又保留了用户的最终决策权，实现了效率和控制的完美平衡。用户需要做的只有两件事：

1. **上传题目**：通过拍照或截图的方式上传题目图片。
2. **确认归类**：从AI预测的归类方案中选择一个进行确认。

其他所有的工作都由AI自动完成。

### 1.4 目标用户画像

本产品的主要目标用户是那些需要大量刷题、追求高效学习的人群。根据学习场景的不同，可以细分为以下几个群体：

#### 1.4.1 考试备考族

包括考研、考公、考编等需要大量做题的用户。这类用户通常会购买大量的教辅资料和真题试卷，每天需要完成固定数量的题目。他们面临的主要痛点是如何在海量题目中识别出自己的薄弱环节，以及如何在有限的时间内进行高效的复习。

本产品可以帮助他们自动整理错题，记录解题思路，并通过知识图谱直观地展示知识点的掌握情况。对于考研数学的用户，系统可以将极限、导数、积分等知识点分别建立节点，并显示各知识点下题目的数量和掌握程度。

#### 1.4.2 技术面试准备者

包括准备算法面试、软件工程师面试的用户。这类用户通常在LeetCode、牛客等平台上刷题，他们面临的挑战是如何系统地掌握各类算法和数据结构，如何在面试前快速回顾重要题目。

本产品可以将算法题目按照类型（动态规划、贪心算法、回溯算法等）、难度（简单、中等、困难）、频率（高频面试题、低频）进行分类，帮助用户构建完整的知识体系。用户可以清晰地看到自己在哪些算法类型上掌握较好，哪些还需要加强。

#### 1.4.3 终身学习者

包括各类需要持续学习新知识的用户。这类用户可能没有明确的考试目标，但希望通过学习不断提升自己。他们面临的主要问题是如何管理碎片化的学习内容，如何将新知识与已有知识建立关联。

本产品的知识图谱功能可以帮助他们构建个性化的知识网络，让学习更加系统化。当用户学习新知识时，系统会自动分析与已有知识的关联，帮助用户建立知识之间的连接，形成深层次的理解。

---

## 二、核心功能架构

### 2.1 功能模块总览

本产品的功能架构可以分为六大核心模块，每个模块相互协作，共同构成完整的用户体验：

| 模块名称 | 核心功能 | 用户价值 |
|---------|---------|---------|
| 题目采集模块 | 图片上传、OCR识别、题目信息提取 | 便捷输入，降低操作门槛 |
| 智能分析模块 | AI解答、知识点提取、难度评估、关联分析 | 自动化分析，智能化理解 |
| 知识图谱模块 | 图谱可视化、布局切换、节点详情展示 | 可视化呈现，直观理解 |
| 复习管理模块 | 记忆追踪、颜色标注、复习模式、复习反馈 | 智能复习，高效记忆 |
| 用户交互模块 | 工作流引导、归类确认、视图管理 | 简单操作，流畅体验 |
| 跨学科识别模块 | 上下文感知、学科分类、友善提醒 | 智能纠错，避免误操作 |

### 2.2 题目采集模块

题目采集模块是用户与系统交互的入口，其设计目标是尽可能降低用户的操作成本，提供便捷的输入方式。

#### 2.2.1 图片上传功能

支持用户通过多种方式上传题目图片：

- **移动端拍照**：用户可以直接使用手机相机拍摄题目，系统会自动进行预处理。
- **电脑端截图**：用户可以使用截图工具将题目复制到剪贴板后直接粘贴，无需保存文件。
- **相册选择**：用户可以从设备相册中选择已有的题目图片上传。
- **文件上传**：支持从文件管理器中选择图片文件上传。

上传完成后，系统会显示上传进度，并在预处理完成后给出提示。预处理包括图片裁剪（去除无关边缘）、方向校正（旋转正）、噪点去除（提高清晰度）等操作。

#### 2.2.2 OCR识别引擎

OCR识别引擎是本模块的核心技术组件，负责将图片中的文字提取出来。识别引擎需要支持多种场景：

- **印刷体文字识别**：识别书本、试卷上的标准印刷文字，准确率应达到98%以上。
- **手写体文字识别**：识别用户手写的文字笔记，满足用户记录手写题目的需求。
- **数学公式识别**：识别根号、分数、积分、求和等数学符号，并转换为标准LaTeX格式。
- **化学方程式识别**：识别化学式、反应式等特殊格式。
- **特殊符号识别**：识别物理符号、几何图形标记等。

为了保证识别的准确率，系统采用多引擎融合的方式，综合多个OCR服务的结果，通过投票机制确定最终输出。对于识别结果存疑的部分，系统会高亮显示并允许用户手动校正。

#### 2.2.3 题目数字指纹（Digital Identity）

每个题目都有一个由AI自动生成的**数字指纹**，这是题目的唯一身份标识。数字指纹包含以下信息：

- **AI命名格式**：`[年份][真题]-[核心知识点]-[解题方法]`
  - 示例：`23真题-导数极限-含参讨论`
  - 示例：`考研数学-二重积分-交换次序`
  - 示例：`LeetCode-动态规划-背包问题`

数字指纹的价值在于帮助用户快速回忆起这道题目。当用户看到"23真题-导数极值-含参讨论"这个名字时，结合题目缩略图，就能秒回忆起来这道题目的内容和解题方法。

**逐级展开的预览设计**：

- **第一级（列表视图）**：仅显示题目名称（数字指纹），简洁明了
- **第二级（卡片视图）**：点击后展开，显示题目缩略图 + 精华结论 + 用户备注
- **第三级（详情视图）**：再次点击，显示完整的解析信息文本（AI解答 + 记忆点）

这种渐进式的信息展示方式，让用户可以根据需要快速浏览大量题目，同时在需要时深入查看详细信息。

### 2.3 智能分析模块

智能分析模块是本产品的技术核心，负责对题目进行深度的分析和理解。该模块集成了大语言模型的能力，能够完成复杂的语义理解和推理任务。

#### 2.3.1 AI解答功能

为用户提供题目的详细解答。当用户上传题目后，AI会执行以下步骤：

1. **理解题意**：分析题目的要求和条件，理解题目要解决的问题。
2. **分析思路**：逐步分析解题思路，识别关键步骤和核心方法。
3. **详细解答**：给出完整的解答过程，每一步都清晰明了。
4. **提炼技巧**：总结解题中用到的关键技巧和常见套路。

对于复杂题目，AI还会提供多种解法，帮助用户拓宽思路。例如，一道积分题可能有换元法、分部积分法、凑微分法等多种解法，AI会分别展示，并分析各种方法的适用场景。

解答过程中，AI会特别关注关键的解题技巧和思维方法，这些内容将被提取为"记忆点"，供用户后续复习使用。

#### 2.3.2 知识点提取功能

负责从题目和解答中识别出涉及的知识点。提取的知识点包括：

- **概念类知识**：如定义、定理、公式、性质等（如"洛必达法则"、"牛顿-莱布尼茨公式"）。
- **方法类知识**：如解题技巧、常见套路、思维模式等（如"分类讨论"、"数形结合"）。

每个知识点都会建立独立的节点，与题目节点形成关联。为了保证知识点描述的准确性和一致性，系统会维护一个知识点词典，新提取的知识点会与词典进行匹配和规范化。

知识点提取的结果会展示给用户，用户可以添加、删除或修改知识点标签，帮助系统不断优化提取准确性。

#### 2.3.3 难度评估功能

对题目进行多维度的难度评估。评估维度包括：

| 维度 | 说明 | 示例 |
|-----|------|------|
| 知识深度 | 涉及的知识点是否深入、综合性强 | 单一知识点 vs 多个知识点综合 |
| 思维复杂度 | 解题需要的推理步骤数量 | 直接计算 vs 多步推理 |
| 计算量 | 需要的计算量大小 | 简单计算 vs 复杂运算 |
| 创新性 | 是否需要创造性思维 | 常规题型 vs 变形创新题 |

评估结果以综合评分的形式呈现（0-100分），同时会给出各个维度的分值，便于用户了解题目的具体难点。系统会根据用户的实际表现（作答正确率、用时等）不断校准难度评估模型。

#### 2.3.4 关联分析功能

是本产品最具特色的功能之一。它通过分析题目之间的相似性和互补性，建立题目之间的关联网络。关联分析考虑以下维度：

- **内容相似性**：题目涉及的知识点的重合程度。
- **方法相似性**：解题方法的相似程度（如都使用换元法）。
- **前置关系**：一道题是另一道题的前置知识。
- **扩展关系**：一道题是另一道题的变形或扩展。
- **难度递进**：一道题比另一道题略难，适合作为进阶练习。

关联分析不仅考虑题目内容本身，还会参考用户的作答历史和学习轨迹，为每个用户构建个性化的关联网络。随着用户添加的题目越来越多，关联网络会越来越密集，知识图谱会越来越丰富。

### 2.4 图谱可视化模块

知识图谱模块负责将用户的知识资产以可视化的方式呈现，让抽象的知识结构变得直观可见。

#### 2.4.1 图谱可视化引擎

将知识图谱渲染为图形界面，支持两种展示模式：

**2D模式**适合在电脑端进行精细浏览，支持以下交互：
- 鼠标拖拽移动视图
- 滚轮缩放大小
- 点击节点查看详情
- 拖拽节点调整位置
- 双击节点展开/收起子节点
- 右键菜单进行快捷操作

**3D模式**更加生动有趣，支持以下交互：
- 旋转视角观察图谱
- 拖拽平移视图
- 滚轮缩放大小
- 点击节点查看详情
- 支持3D空间中的节点飞入效果

两种模式可以无缝切换，用户可以根据自己的使用习惯和场景选择合适的模式。3D模式特别适合在移动端进行概览浏览，让用户获得沉浸式的学习体验。

#### 2.4.2 视图切换功能

允许用户在不同的图谱视图之间自由切换。系统预设多种精选视图，同时支持高度定制化：

**预设视图（精选）**：

| 视图名称 | 适用场景 | 说明 |
|---------|---------|------|
| **教材映射视图** | 按教材章节组织 | 按用户选择的教材章节结构组织知识点，适合系统学习 |
| **高频考点星系** | 按考试频率组织 | 高频考点在中心，低频考点在外围，快速定位重点 |
| **能力边界视图** | 按掌握程度组织 | 清晰展示用户的能力边界，薄弱环节一目了然 |
| 时间线视图 | 按学习时间组织 | 按学习的时间顺序排列，回顾学习历程 |
| 难度分布视图 | 按难度等级组织 | 按题目难度分布展示，了解自己的能力分布 |

**高度定制化的视图系统**：

系统支持**无限多的自定义视图**，用户可以维度：章节、：
- 选择分类知识点、难度、来源、时间、标签等
- 选择布局方式：层级、环形、力导向、时间线、频率等
- 设置过滤条件：只显示特定难度、特定标签的题目
- 调整视觉样式：节点大小、连线粗细、颜色方案等
- 保存为视图：将配置保存为自定义视图，随时切换

#### 2.4.3 图谱风格切换

用户可以根据个人喜好选择不同的图谱视觉风格。系统预设三种风格：

**风格一：温馨花园风格（Warm Garden）**

- **设计理念**：像一棵大树长大那样，花花绿绿，温馨治愈
- **视觉特点**：
  - 节点使用柔和的圆角矩形，带有轻微的光晕效果
  - 颜色采用暖色调（粉色、橙色、绿色、黄色等）
  - 连线采用曲线，像藤蔓一样自然延伸
  - 背景使用浅米色或淡粉色护眼色调
  - 添加小花、树叶等装饰元素
- **适用场景**：喜欢温馨可爱风格的用户，学习放松心情

**风格二：知识星云风格（Knowledge Nebula）**

- **设计理念**：像星空一样深邃，但不使用纯黑底色
- **视觉特点**：
  - 节点使用圆形或六边形，带有发光效果
  - 颜色采用深蓝色、紫色、青色等冷色调
  - 连线采用细线，带有微光效果
  - 背景使用深藏青色（非纯黑），保护眼睛
  - 添加星星点缀效果，营造宇宙深邃感
- **适用场景**：喜欢科技感和深邃感的用户

**风格三：清新现代风格（Fresh Modern）**

- **设计理念**：Apple风格的极简设计，清新通透
- **视觉特点**：
  - 节点使用简洁的几何形状（圆形、圆角矩形）
  - 颜色采用苹果风格的配色（白色、浅灰、蓝色）
  - 连线采用细线条，简洁明了
  - 背景使用纯白色或极浅灰色
  - 大量留白，视觉呼吸感强
- **适用场景**：喜欢极简设计和高效工作的用户

**风格切换体验**：
- 一键切换不同风格
- 切换时有过渡动画
- 风格选择会保存，下次打开保持一致
- 未来可拓展更多风格（用户自制风格包）

#### 2.4.4 知识图谱选择：自建图谱 vs 公有云图谱

用户可以选择使用自己的知识图谱，或者接入公有云的标准知识树：

**选项一：用户自建图谱（默认）**

- 用户完全控制自己的知识图谱结构
- 知识点由用户自己创建和分类
- 适合有明确学习体系和分类偏好的用户
- 最大程度个性化，灵活度高

**选项二：公有云图谱（推荐新手）**

- 系统为用户推荐标准的知识树结构
- 例如：考研数学知识树、高考物理知识树、LeetCode算法知识树等
- 用户上传题目后，系统自动将题目"挂载"到标准知识树的对应位置
- **降低心理负担**：用户不需要自己构建知识体系，跟着标准走就行
- **省时省力**：AI自动分类，用户只需确认
- **社区共享**：可以查看其他用户的知识树，获取灵感

**混合使用模式**：

用户可以同时使用自建图谱和公有云图谱：
- 将自建的题目"挂载"到公有知识树上
- 一道题目可以同时属于自建图谱和公有知识树
- 在不同图谱间切换，查看不同的视角
- 这种灵活性满足了不同用户的需求

公有云图谱的价值在于帮助那些"对知识只有粗浅印象，完全不知道自己心中的知识树是什么样的"用户，降低他们的心理负担，让他们能够快速上手使用产品。

#### 2.4.5 节点详情展示

允许用户点击图谱中的任意节点（题目或知识点），查看该节点的详细信息。详情页面包含以下内容：

**题目节点详情**：
- 题目的身份信息：AI生成的题目名称、关键特征描述
- 题目的原始图片：显示原始题目图像
- AI解答：完整的解答过程
- 记忆点：AI提炼的关键技巧和核心思路
- 精华结论：这道题目最重要的结论
- 用户备注：用户自己添加的注释
- 关联题目：与这道题相关的其他题目列表
- 难度标签：系统评估的难度等级
- 复习状态：上次复习时间、复习次数、掌握程度

**知识点节点详情**：
- 知识点名称和描述
- 知识点下的题目数量
- 平均难度
- 掌握率（用户对该知识点的整体掌握程度）
- 关联的其他知识点
- 该知识点下的题目列表

### 2.5 复习管理模块

复习管理模块负责跟踪用户的学习状态，提供智能的复习建议和提醒。该模块的设计理念是基于遗忘曲线理论，帮助用户在最佳时间点进行复习。

#### 2.5.1 记忆追踪系统

记录用户与每个题目节点的交互历史：
- 首次学习时间
- 最后复习时间
- 复习次数
- 每次复习的反馈（掌握/不掌握）
- 每次复习的用时

基于这些数据，系统计算每个知识点的"遗忘指数"。遗忘指数是一个0-100的数值，数值越高表示越容易遗忘。遗忘指数的计算考虑以下因素：
- 距离上次复习的时间（时间越长，遗忘指数越高）
- 复习次数（复习次数越多，遗忘指数越低）
- 历史掌握反馈（被标记为"不掌握"的题目遗忘指数更高）
- 题目难度（难度越高的题目遗忘指数越高）

系统会预测用户何时可能遗忘特定知识点，并在适当的时间发出复习提醒。

#### 2.5.2 颜色标注系统

将遗忘指数转化为直观的视觉信号。每个节点根据其状态显示不同的颜色：

| 颜色类型 | 状态描述 | 触发条件 | 难度加权 |
|---------|---------|---------|---------|
| 鲜绿 | 记忆牢固 | 24小时内复习过，且多次正确回答 | 难度×0.8 |
| 浅绿 | 记忆较新 | 3天内复习过，或新加入的题目（3天内） | 难度×0.9 |
| 枯黄 | 需要关注 | 超过1周未复习，遗忘指数中等 | 难度×1.0 |
| 浅灰 | 遗忘风险 | 超过2周未复习，或难度较高的题目超过1周未复习 | 难度×1.1 |
| 灰暗 | 需要复习 | 超过1个月未复习，或被标记为困难的题目超过2周未复习 | 难度×1.2 |

用户可以直观地通过颜色判断哪些知识点需要关注，哪些可以暂时跳过。这种设计将**艾宾浩斯遗忘曲线可视化**，让用户看到自己的记忆健康度。

**难度加权机制**：难度较高的题目会更快"变灰"，因为这类知识点更容易遗忘。例如：
- 简单题：超过2周未复习才变灰
- 中等题：超过1周未复习就变灰
- 困难题：超过3天未复习就开始变灰

这种机制确保用户将更多精力放在真正困难的知识点上。

#### 2.5.3 复习模式功能

提供多种复习方式供用户选择：

**图谱遍历模式**：用户沿着知识图谱的路径进行复习。系统会按照知识点之间的关联关系规划复习路径，从核心知识点开始，逐步扩展到外围知识点。这种模式适合系统性回顾知识体系。

**随机抽查模式**：系统从用户的知识图谱中随机抽取题目进行测试。系统会优先抽取颜色偏灰（遗忘风险高）的题目，帮助用户发现薄弱环节。用户可以设置每次抽查的数量和范围。

**集中攻克模式**：用户可以选择特定的知识点进行集中复习。系统会筛选出该知识点下的所有题目，按照难度排序进行强化训练。这种模式适合考前冲刺或针对性补强。

**间隔重复模式**：基于遗忘曲线算法，系统会在最佳时间点提醒用户复习特定的题目。用户在复习时标记掌握程度，系统根据反馈动态调整复习计划。这种模式源自SuperMemo的SM-2算法，经过验证能够有效提升记忆效果。

#### 2.5.4 游戏化复习玩法

提供多种创新的复习方式，让复习过程更加有趣和高效：

**玩法一：点亮地图模式**

用户看着图谱上一大片灰色的区域，心理会产生强烈的冲动去复习，把它们点亮成绿色。这种**游戏化激励**机制利用了用户的成就感需求：
- 图谱上灰色节点越多，用户越有动力去复习
- 每点亮一个节点，用户获得成就感
- 全部点亮时，用户获得巨大的满足感
- 系统可以设置里程碑奖励（如"点亮100题"成就）

**玩法二：闪念卡片**

点击"今日复习"，系统把所有"变灰的困难题"弹出来，采用卡片翻转的形式：
- **正面**：题目（题目缩略图或文字描述）
- **背面**：用户的"精华结论" + AI解析 + 外部导入的优秀解析
- **操作**：
  - 记得 → 点击后节点变绿，明日不再推送
  - 忘了 → 保持灰暗，明日再次推送

闪念卡片的设计让用户可以在碎片化时间快速复习，不需要打开完整的图谱界面。

### 2.6 用户交互模块

用户交互模块负责处理用户的各种操作，提供流畅的用户体验。该模块的设计原则是"简单至上"，尽可能减少用户的操作负担。

#### 2.6.1 核心工作流：Snap-Identify-Interact-Tag-Save

产品采用**S.I.I.T.S.**五步工作流，引导用户完成从题目上传到知识沉淀的完整过程：

**Step 1：Snap（拍）**

用户上传题目图片，支持多种方式：
- 拍照上传：使用手机相机直接拍摄
- 截图粘贴：复制题目截图到剪贴板后粘贴
- 文件选择：从相册或文件管理器选择图片

**Step 2：Identify（识）**

系统自动完成：
- OCR提取文字/公式
- 识别题目来源（书籍、平台）
- 初步判断学科和章节
- 生成题目数字指纹

**Step 3：Interact（问）**

系统展示三个按钮供用户选择：

| 按钮 | 触发场景 | 系统行为 |
|-----|---------|---------|
| **A. 没看懂，请解释** | 用户对题目感到困惑 | 调用AI解题，提供详细解答 |
| **B. 我有解析，直接存** | 用户有外部解析或手写笔记 | 允许用户粘贴文本或拍照上传解析 |
| **C. 我懂了，直接入库** | 用户已理解题目 | 跳过解析，直接进入打标签环节 |

**Step 4：Tag（标）**

系统自动填好预设字段，用户确认/修改：

| 字段 | 来源 | 说明 |
|-----|------|------|
| 章节 | AI自动识别 | 用户确认 |
| 知识点 | AI自动提取 | 用户确认/修改 |
| 难度 | AI评估 | 用户手动选择：简单/中等/困难 |
| 状态 | 默认新题 | 用户选择：新题/已掌握/重点关注 |
| 备注 | 用户填写 | 可选的补充信息 |

**Step 5：Save（存）**

题目化作一颗星星飞入图谱，归入对应的知识节点下。系统更新关联关系，用户可以立即在图谱中看到新加入的题目。

#### 2.6.2 归类确认流程

是用户与AI协作的关键环节。当用户选择"加入习题集"后，AI会预测几种可能的归类方式，每种方式包含：

- 该题目应该属于哪个父级知识点节点（如果需要创建新节点，AI会给出新节点的名称和描述）
- 该题目与哪些已有题目存在关联，关联的类型和强度如何
- 该题目的难度评估和推荐标签
- AI推荐的理由解释

用户可以从AI预测的归类方式中选择一个进行确认，也可以进行小幅度的调整（如修改知识点名称、调整难度等级）。确认后，系统会将题目添加到知识图谱中，并更新相关的关联关系。

归类确认流程的设计体现了"AI推荐+用户确认"的核心理念，既发挥了AI的自动化优势，又保留了用户的最终决策权。

#### 2.6.3 视图管理功能

允许用户保存和切换不同的图谱视图。用户可以对当前的图谱布局进行命名保存，系统会记录布局的详细信息。当用户需要查看不同的视角时，可以从视图列表中选择保存的视图进行切换。

视图管理功能的核心价值在于承认了知识的复杂性——同一个知识点可以从属于不同的分类体系。例如，"导数"既可以属于"微分学"（按学科分支分类），也可以属于"函数分析"（按研究对象分类），还可以属于"高频考点"（按考试频率分类）。用户可以根据自己的需要选择最合适的视角。

### 2.7 跨学科识别模块

跨学科识别模块是产品的智能安全保障，负责检测用户输入的题目与当前知识图谱的上下文是否匹配。

#### 2.7.1 功能定位

负责检测用户输入的题目与当前知识图谱的上下文是否匹配。当检测到不匹配的情况时，系统会向用户发出友善提醒，让用户做出最终决定。这个功能的核心价值在于：

- **防止误操作**：避免用户不小心将题目添加到错误的知识图谱中
- **尊重用户意图**：如果用户确实在进行跨学科学习，系统会尊重用户的决定
- **提升智能化程度**：展示产品的智能感知能力，增强用户信任

#### 2.7.2 实现原理

**上下文推断机制**的工作流程：

1. 用户在上传题目之前，系统获取当前知识图谱的上下文信息：
   - 当前知识图谱的主题或学科（如"高等数学"、"高中物理"、"考研政治"）
   - 已有知识点的分布和类型
   - 用户的学科偏好和学习历史

2. 当用户上传题目后，AI在识别题目内容的同时进行**学科分类预测**。AI分析题目中出现的关键词、术语、题型特征，判断这道题目最可能属于哪个学科。

3. 系统将AI预测的学科与当前知识图谱的上下文进行对比：
   - 匹配度较高（如都是数学类科目）：正常进入后续流程
   - 匹配度较低或完全不匹配（如当前是数学图谱，AI预测是地理题目）：触发提醒流程

#### 2.7.3 用户交互设计

当检测到跨学科情况时，系统显示友善提醒界面：

```
┌─────────────────────────────────────────────────────────┐
│  检测到跨学科题目                                         │
├─────────────────────────────────────────────────────────┤
│                                                          │
│  这道题目看起来属于：地理学科                             │
│                                                          │
│  您当前正在查看的是：数学知识图谱                         │
│                                                          │
│  ─────────────────────────────────────────────────────  │
│                                                          │
│您可以：                                                 │
│                                                          │
│  [放弃加入]          [坚持加入数学图谱]                   │
│                                                          │
│  或者：                                                   │
│                                                          │
│  [创建新的地理知识图谱，将题目加入那里]                   │
│                                                          │
└─────────────────────────────────────────────────────────┘
```

**选项说明**：

- **放弃加入**：用户点击后，系统删除这道题目的临时记录，不会将其添加到任何知识图谱中。
- **坚持加入**：用户点击后，系统按照正常流程将题目添加到当前知识图谱，并在题目属性中记录"跨学科标记"。
- **创建新的知识图谱**：用户点击后，系统引导用户创建一个新的地理知识图谱，然后将题目添加到新图谱中。

#### 2.7.4 技术实现细节

**学科分类模型**采用基于大语言模型的方案：直接使用LLM进行学科分类，将题目文本和学科列表一起输入给模型，让模型判断题目最可能属于哪个学科。这种方案准确率最高，且不需要额外的模型训练。

**阈值设置**：

- **高置信度阈值（0.85）**：当模型对学科预测的置信度超过此阈值时，才会触发跨学科提醒。
- **低置信度阈值（0.5）**：当模型预测的学科与当前知识图谱学科不匹配，且置信度低于此阈值时，显示较温和的提醒。

#### 2.7.5 特殊情况处理

- **多学科交叉题目**：显示"这道题可能涉及多个学科"的提示，列出可能的学科选项让用户选择。
- **用户连续跨学科操作**：在适当时候弹出建议"是否需要创建一个新的知识图谱"。
- **学习历史偏好**：系统记录用户的学科偏好，适当放宽跨学科提醒的阈值。

---

## 三、数据模型设计

### 3.1 核心设计理念：万物皆节点 (Everything is a Node)

为了支撑从"单一题库"向"通用记忆架构"演进的长远愿景，本产品的数据模型不再将"题目 (Question)"作为最底层的原子单位，而是抽象出更通用的 **"记忆节点 (MemoryNode)"** 实体。

- **解耦设计**：将"图谱逻辑"（节点关系、复习状态、坐标位置）与"业务内容"（题目、笔记、代码片段）完全解耦。
- **扩展性**：V1版本中，所有节点的类型默认为 `QUESTION`；但在未来版本中，可以轻松扩展 `CONCEPT`（概念）、`SNIPPET`（代码）、`INSIGHT`（灵感）等类型，而无需重构图谱和复习系统的底层逻辑。

### 3.2 核心实体：记忆节点 (MemoryNode)

这是系统中最基础的数据单元。所有的题目本质上都是一个承载了"题目数据"的记忆节点。

```json
{
  "id": "uuid-string",
  "node_type": "QUESTION",
  "title": "AI生成的简短标题，用于图谱展示",
  "summary": "节点的简要描述或关键特征",
  
  "content_data": {
    "original_image_url": "String",
    "ocr_text": "Text",
    "ai_answer": "Text",
    "difficulty_level": "中等",
    "source": "23年真题",
    "user_notes": "Text",
    "is_cross_discipline": false,
    "original_subject": "数学"
  },

  "tags": ["数学", "导数", "考研"],
  "relations": [
    { "target_id": "uuid-2", "type": "RELATED", "strength": 80 }
  ],
  
  "review_stats": {
    "last_reviewed_at": "Timestamp",
    "next_review_due": "Timestamp",
    "review_count": 3,
    "forgetting_curve_index": 45.5,
    "mastery_status": "FRESH"
  }
}
```

### 3.3 知识点实体 (KnowledgeTag)

为了保持灵活性，知识点被设计为一种特殊的元数据结构，既可以作为独立的节点存在，也可以作为标签依附于 MemoryNode。

```json
{
  "id": "uuid-string",
  "name": "知识点名称",
  "description": "知识点描述",
  "parent_id": "uuid-string",
  "linked_node_ids": ["Array of MemoryNode IDs"],
  "importance_score": 85.0,
  "mastery_rate": 0.72,
  "created_at": "Timestamp"
}
```

### 3.4 关联实体 (Relation)

用于描述节点之间复杂的、有向的强关联。

```json
{
  "id": "uuid-string",
  "source_id": "uuid-string",
  "target_id": "uuid-string",
  "relation_type": "PREREQUISITE",
  "strength": 85
}
```

**关联类型枚举值说明：**

| 枚举值 | 中文名称 | 题目场景 |
|-------|---------|---------|
| `PREREQUISITE` | 前置/依赖 | 题目A是题目B的基础知识 |
| `VARIANT` | 变体/衍生 | 题目B是题目A的变形题 |
| `RELATED` | 关联/参考 | 两道题使用相似解题技巧 |

### 3.5 视图实体（View）

视图不再绑定特定的题目，而是绑定一组过滤条件和布局参数。

```json
{
  "id": "uuid-string",
  "user_id": "uuid-string",
  "name": "视图名称",
  "config": {
    "filter": {
      "node_type": "QUESTION",
      "tags": ["错题"],
      "mastery_status": "WARNING"
    },
    "layout_engine": "3D-Force-Directed",
    "color_scheme": "Dark-Nebula"
  },
  "created_at": "Timestamp"
}
```

### 3.6 数据关系图

```
用户 (User)
  │
  ├── 拥有 ——> 记忆节点 (MemoryNode) * N
  │             │
  │             ├── [Payload: QuestionData]
  │             │
  │             └── [Payload: NoteData/CodeData]
  │
  ├── 定义 ——> 视图 (ViewConfig) * N
  │
  └── 关联 ——> 知识点 (KnowledgeTag) * N
```

---

## 四、技术实现方案

### 4.1 技术架构概述

本产品采用现代化的前后端分离架构：

| 层次 | 技术选型 | 职责 |
|-----|---------|------|
| 展示层 | React / React Native / Flutter | 用户界面渲染和交互 |
| 逻辑层 | Node.js / Python | 业务逻辑处理和AI集成 |
| 服务层 | RESTful API / GraphQL | 对外API接口 |
| 数据层 | PostgreSQL / Redis / 对象存储 | 数据持久化和缓存 |

### 4.2 关键技术选型

| 功能 | 技术方案 | 说明 |
|-----|---------|------|
| 主数据库 | PostgreSQL (v15+) | 利用JSONB类型支持灵活存储模式 |
| 缓存/消息 | Redis | 热点图谱数据缓存和复习提醒队列 |
| 向量数据库 | PgVector | 语义搜索和相似题目推荐 |
| OCR识别 | 百度OCR + 腾讯OCR | 多引擎融合，提高准确率 |
| 大语言模型 | GPT-4 / Claude / DeepSeek | 流式API响应 |
| 2D图谱可视化 | D3.js / Cytoscape.js | 丰富的布局算法和交互能力 |
| 3D图谱可视化 | Three.js / 3d-force-graph | 沉浸式3D体验 |
| 后端框架 | Python (FastAPI) | AI和数据处理库集成 |

### 4.3 系统集成方案

**OCR服务集成**：
- 实现OCR服务网关，统一管理多个OCR服务的调用
- 支持负载均衡和故障转移
- 结果融合机制：多引擎投票选择最佳结果

**AI服务集成**：
- 采用流式API，让AI回答逐步呈现
- 实现缓存机制，复用相同/相似题目的分析结果
- 用户分级调用限制：免费用户限制次数，付费用户更高限额

**存储服务集成**：
- CDN加速图片加载
- 敏感数据加密存储
- 定期备份机制

### 4.4 性能优化策略

- **前端性能**：代码分割、图片懒加载、虚拟滚动
- **后端性能**：数据库索引优化、查询缓存、异步处理
- **AI服务优化**：结果缓存、批量处理、GPU加速
- **网络优化**：CDN加速、请求合并、压缩传输

---

## 五、交互设计规范

### 5.1 设计原则

| 原则 | 说明 |
|-----|------|
| 最小认知负担 | 每个交互步骤都要尽可能简单直接 |
| 即时反馈 | 每个用户操作都要有明确的反馈 |
| 渐进式披露 | 首先展示核心功能，高级功能逐步展示 |
| 一致性 | 相似的功能采用相似的交互方式 |

### 5.2 关键界面原型

#### 5.2.1 主界面布局

```
┌─────────────────────────────────────────────────────────────┐
│  左侧导航栏    │    中间内容区    │    右侧详情区           │
│  [上传]        │                 │                         │
│  [图谱]        │   图谱展示区域   │   选中节点详情          │
│  [复习]        │                 │   [题目名称]            │
│  [设置]        │   [全屏图谱]    │   [记忆点列表]          │
│                │                 │   [关联题目]            │
│                │                 │   [复习历史]            │
└─────────────────────────────────────────────────────────────┘
```

### 5.3 交互流程详解

#### 5.3.1 题目上传流程

```
1. 用户点击上传或拖拽图片
           ↓
2. 系统显示上传进度，进行预处理
           ↓
3. 调用OCR服务识别题目
           ↓
4. 显示识别结果，用户确认/校正
           ↓
5. 调用AI服务生成解答
           ↓
6. 展示解答内容，显示三个操作选项
```

#### 5.3.2 归类确认流程

```
1. 用户点击"加入习题集"
           ↓
2. AI分析题目，生成归类方案
           ↓
3. 展示归类方案列表
           ↓
4. 用户选择确认
           ↓
5. 系统执行归类，更新图谱
           ↓
6. 显示完成提示
```

#### 5.3.3 复习流程

```
1. 用户进入复习模块
           ↓
2. 系统筛选复习题目，生成队列
           ↓
3. 展示题目卡片
           ↓
4. 用户标记掌握程度
           ↓
5. 系统更新复习状态
           ↓
6. 展示下一题或完成提示
```

---

## 六、差异化亮点

### 6.1 与竞品对比

| 对比维度 | 传统错题本 | 通用笔记软件 | Anki间隔复习 | 本产品 |
|---------|-----------|-------------|-------------|-------|
| 自动化程度 | 手动摘抄 | 手动整理 | 手动建卡 | 全自动 |
| 知识关联 | 无 | 弱 | 无 | 强 |
| 智能归类 | 无 | 无 | 无 | AI自动归类 |
| 可视化程度 | 无 | 弱 | 无 | 强（图谱+3D） |
| 复习提醒 | 无 | 无 | 有 | 智能提醒 |
| 跨学科检测 | 无 | 无 | 无 | 有 |

### 6.2 独特功能

| 功能 | 创新点 | 用户价值 |
|-----|-------|---------|
| AI自动归类 | AI预测多种归类方案，用户选择确认 | 零分类成本 |
| 多视图切换 | 支持多种布局保存和切换 | 灵活的视角选择 |
| 可视化记忆追踪 | 颜色直观展示掌握状态 | 一目了然 |
| 3D知识空间 | 沉浸式3D图谱体验 | 生动有趣 |
| 跨学科检测 | 智能识别并提醒 | 避免误操作 |

---

## 七、开发路线图

### 7.1 第一阶段：MVP版本

**目标**：验证产品核心价值

**核心功能**：
- 基础题目管理（上传、OCR识别、存储）
- 基础AI解答功能
- 2D知识图谱基础展示
- 基础用户系统（注册、登录、云同步）

**交付物**：
- 可运行的MVP产品
- 用户可以完成"上传→解答→查看图谱"闭环

**预计周期**：2-3个月

### 7.2 第二阶段：功能完善版本

**目标**：丰富产品功能，提升用户体验

**核心功能**：
- 智能归类系统（AI预测归类、多方案选择）
- 复习管理系统（遗忘曲线、颜色标注、复习提醒）
- 多视图功能（布局保存、切换、对比）
- 移动端适配（拍照上传、卡片复习）
- 跨学科识别功能

**预计周期**：3-4个月

### 7.3 第三阶段：高级功能版本

**目标**：打造差异化优势

**核心功能**：
- 3D知识空间（沉浸式3D图谱）
- 高级复习模式（随机抽查、间隔重复）
- 跨平台同步（多设备数据同步）
- 社区功能（可选，分享、协作）

**预计周期**：4-6个月

### 7.4 关键里程碑

| 里程碑 | 时间节点 | 交付物 |
|-------|---------|-------|
| M1 | 第1个月 | 技术选型、架构设计、MVP产品设计文档 |
| M2 | 第3个月 | MVP内测版本，种子用户试用 |
| M3 | 第5个月 | MVP正式发布，启动第二阶段开发 |
| M4 | 第9个月 | 第二阶段功能完成，产品可用 |
| M5 | 第15个月 | 第三阶段功能完成，产品优秀 |

---

## 八、运营与商业模式

### 8.1 目标市场

| 市场细分 | 目标用户 | 需求特点 |
|---------|---------|---------|
| 考试备考 | 考研、考公、考编人群 | 强烈提分需求，付费意愿强 |
| 技术学习 | 程序员、算法工程师 | 持续学习，对新技术接受度高 |
| K12教育 | 中学生及家长 | 错题整理刚需，家长决策付费 |

### 8.2 商业模式

**免费增值模式**：

| 方案 | 价格 | 包含功能 |
|-----|------|---------|
| 免费版 | ¥0 | 基础题目管理、AI解答、基础图谱展示（有限存储） |
| 个人订阅（月付） | ¥19/月 | 所有高级功能、无限存储、优先客服 |
| 个人订阅（年付） | ¥169/年 | 所有高级功能、无限存储、优先客服（省2个月） |
| 团队方案 | ¥99/用户/月 | 团队管理、数据统计、协作功能 |

### 8.3 用户获取策略

- **内容营销**：在知乎、小红书、B站发布学习方法内容
- **社区运营**：在考研、技术社区进行精准投放
- **合作推广**：与教辅机构、在线教育平台合作
- **口碑传播**：鼓励种子用户分享使用体验

---

## 九、项目实施建议

### 9.1 技术团队组建

| 角色 | 数量 | 职责 |
|-----|------|------|
| 产品经理 | 1 | 产品规划、需求分析、用户研究 |
| 后端开发工程师 | 2 | 服务端开发、AI集成、数据库管理 |
| 前端开发工程师 | 2 | Web端/移动端开发、图谱可视化 |
| 设计师 | 1 | 界面设计、交互设计、视觉设计 |
| 测试工程师 | 1 | 功能测试、性能测试、兼容性测试 |

### 9.2 风险识别与应对

| 风险类型 | 风险描述 | 应对策略 |
|---------|---------|---------|
| 技术风险 | OCR识别准确率不达预期 | 多引擎融合、人工校正入口 |
| 成本风险 | AI服务API成本过高 | 缓存机制、调用限制、订阅收入 |
| 竞争风险 | 大厂进入赛道 | 深耕垂直场景、建立用户粘性 |
| 增长风险 | 用户获取成本过高 | 优化产品体验、口碑传播 |

### 9.3 关键成功因素

1. **产品体验**：极简的操作流程，强大的自动化能力
2. **技术能力**：准确的OCR识别，智能的AI分析
3. **用户价值**：真正帮助用户提升学习效率
4. **差异化**：独特的功能设计，难以复制的体验

---

## 十、附录

### 10.1 术语表

| 术语 | 定义 |
|-----|------|
| 知识图谱 | 以图形方式展示知识点及其关联关系的可视化结构 |
| 记忆点 | AI从题目解答中提炼的关键技巧和核心思路 |
| 遗忘指数 | 系统预测知识点被遗忘程度的数值（0-100） |
| 跨学科题目 | 与当前知识图谱学科不匹配的题目 |
| 视图 | 用户保存的图谱布局配置 |

### 10.2 参考竞品

| 产品名称 | 类型 | 参考价值 |
|---------|------|---------|
| Anki | 间隔复习软件 | 复习算法、卡片设计 |
| Notion | 笔记软件 | 知识管理、视图切换 |
| Roam Research | 知识网络工具 | 双向链接、知识图谱 |

---

## 文档修订记录

| 版本 | 日期 | 修订人 | 修订内容 |
|-----|------|-------|---------|
| V1.0 | 2026-01-26 | Matrix Agent | 初稿完成 |
| V1.1 | 2026-01-26 | Matrix Agent | 整合用户反馈，优化产品功能设计 |
| V1.2 | 2026-01-26 | Matrix Agent | 正式定名：产品名称为"纽伦笔记 (NeuralNote)" |
| V1.3 | 2026-01-28 | Matrix Agent | 架构重构：将底层数据模型从 Questions 抽象为 MemoryNode |

---

*本文档由 NeuralNote 产品团队编制，作为产品设计的蓝图文档。*