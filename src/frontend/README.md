# NeuralNote å‰ç«¯

åŸºäº React 18 + TypeScript + Vite + Ant Design çš„ç°ä»£åŒ–å‰ç«¯åº”ç”¨ã€‚

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: React 18.3
- **æ„å»ºå·¥å…·**: Vite 7.2
- **è¯­è¨€**: TypeScript 5.9
- **UI åº“**: Ant Design 5.13
- **çŠ¶æ€ç®¡ç†**: Redux Toolkit 2.0
- **è·¯ç”±**: React Router v6
- **HTTP å®¢æˆ·ç«¯**: Axios 1.6
- **å›¾è¡¨**: Recharts 2.10
- **2D å›¾è°±å¯è§†åŒ–**: Cytoscape.js 3.28
- **3D å›¾è°±å¯è§†åŒ–**: Three.js + React Three Fiber âœ¨
- **æ—¥æœŸå¤„ç†**: Day.js 1.11

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ components/          # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ ProtectedRoute.tsx  # è·¯ç”±å®ˆå«
â”‚   â”œâ”€â”€ ImageUpload.tsx     # å›¾ç‰‡ä¸Šä¼ ç»„ä»¶
â”‚   â”œâ”€â”€ QuestionAnalysisModal.tsx  # é¢˜ç›®åˆ†ææ¨¡æ€æ¡†
â”‚   â”œâ”€â”€ GraphVisualization.tsx     # 2D çŸ¥è¯†å›¾è°±å¯è§†åŒ–
â”‚   â”œâ”€â”€ GraphVisualization3D.tsx   # 3D çŸ¥è¯†å›¾è°±å¯è§†åŒ– âœ¨
â”‚   â”œâ”€â”€ ReviewCard.tsx             # å¤ä¹ å¡ç‰‡ç»„ä»¶
â”‚   â”œâ”€â”€ NodeRelationsManager.tsx   # èŠ‚ç‚¹å…³è”ç®¡ç† âœ¨
â”‚   â”œâ”€â”€ StatisticsCharts.tsx       # ç»Ÿè®¡å›¾è¡¨å±•ç¤º âœ¨
â”‚   â””â”€â”€ VectorSearchModal.tsx      # å‘é‡æœç´¢æ¨¡æ€æ¡† âœ¨
â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ Login.tsx       # ç™»å½•/æ³¨å†Œé¡µé¢
â”‚   â”œâ”€â”€ Home.tsx        # é¦–é¡µ
â”‚   â”œâ”€â”€ KnowledgeGraph.tsx  # çŸ¥è¯†å›¾è°±ç®¡ç†
â”‚   â”œâ”€â”€ GraphDetail.tsx     # å›¾è°±è¯¦æƒ…é¡µé¢
â”‚   â”œâ”€â”€ Review.tsx      # å¤ä¹ ä¸­å¿ƒ
â”‚   â””â”€â”€ Profile.tsx     # ä¸ªäººä¸­å¿ƒ âœ¨
â”œâ”€â”€ services/           # API æœåŠ¡
â”‚   â”œâ”€â”€ api.ts          # Axios é…ç½®å’Œæ‹¦æˆªå™¨
â”‚   â”œâ”€â”€ auth.ts         # è®¤è¯æœåŠ¡
â”‚   â”œâ”€â”€ knowledgeGraph.ts  # çŸ¥è¯†å›¾è°±æœåŠ¡
â”‚   â”œâ”€â”€ memoryNode.ts   # è®°å¿†èŠ‚ç‚¹æœåŠ¡
â”‚   â”œâ”€â”€ fileUpload.ts   # æ–‡ä»¶ä¸Šä¼ æœåŠ¡
â”‚   â”œâ”€â”€ ocr.ts          # OCR è¯†åˆ«æœåŠ¡
â”‚   â”œâ”€â”€ aiAnalysis.ts   # AI åˆ†ææœåŠ¡
â”‚   â”œâ”€â”€ review.ts       # å¤ä¹ æœåŠ¡
â”‚   â”œâ”€â”€ user.ts         # ç”¨æˆ·æœåŠ¡ âœ¨
â”‚   â””â”€â”€ vectorSearch.ts # å‘é‡æœç´¢æœåŠ¡ âœ¨
â”œâ”€â”€ store/              # Redux çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ index.ts        # Store é…ç½®
â”‚   â”œâ”€â”€ authSlice.ts    # è®¤è¯çŠ¶æ€
â”‚   â”œâ”€â”€ graphSlice.ts   # å›¾è°±çŠ¶æ€
â”‚   â””â”€â”€ hooks.ts        # ç±»å‹åŒ–çš„ Hooks
â”œâ”€â”€ router/             # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ index.tsx       # è·¯ç”±å®šä¹‰
â”œâ”€â”€ styles/             # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”œâ”€â”€ App.tsx             # ä¸»åº”ç”¨ç»„ä»¶
â”œâ”€â”€ main.tsx            # åº”ç”¨å…¥å£
â””â”€â”€ style.css           # å…¨å±€æ ·å¼
```

> âœ¨ æ ‡è®°ä¸ºæœ¬æ¬¡æ›´æ–°æ–°å¢çš„æ–‡ä»¶

## å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘æ¨¡å¼

```bash
npm run dev
```

åº”ç”¨å°†åœ¨ http://localhost:3000 å¯åŠ¨

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

### é¢„è§ˆç”Ÿäº§æ„å»º

```bash
npm run preview
```

## åŠŸèƒ½ç‰¹æ€§

### âœ… å·²å®Œæˆ

1. **ç”¨æˆ·è®¤è¯**
   - ç™»å½•/æ³¨å†Œé¡µé¢
   - JWT Token ç®¡ç†
   - è·¯ç”±å®ˆå«

2. **çŸ¥è¯†å›¾è°±ç®¡ç†**
   - å›¾è°±åˆ—è¡¨å±•ç¤º
   - å›¾è°±åˆ›å»º/ç¼–è¾‘
   - å›¾è°±è¯¦æƒ…é¡µé¢
   - å›¾è°±ç»Ÿè®¡ä¿¡æ¯

3. **é¢˜ç›®åˆ†ææµç¨‹**
   - å›¾ç‰‡ä¸Šä¼ ï¼ˆæ‹–æ‹½ä¸Šä¼ ã€é¢„è§ˆï¼‰
   - OCR è¯†åˆ«ï¼ˆå®æ—¶è¿›åº¦ã€ç»“æœå±•ç¤ºï¼‰
   - AI åˆ†æï¼ˆé¢˜ç›®ã€ç­”æ¡ˆã€è§£æã€çŸ¥è¯†ç‚¹ï¼‰
   - è‡ªåŠ¨åˆ›å»ºè®°å¿†èŠ‚ç‚¹

4. **çŸ¥è¯†å›¾è°±å¯è§†åŒ–**
   - **2D å›¾è°±** (Cytoscape.js)
     - 4ç§å¸ƒå±€ç®—æ³•ï¼ˆå±‚æ¬¡ã€ç¯å½¢ã€ç½‘æ ¼ã€åŒå¿ƒåœ†ï¼‰
     - èŠ‚ç‚¹äº¤äº’ï¼ˆç‚¹å‡»ã€æ‚¬åœã€æ‹–æ‹½ï¼‰
     - ç¼©æ”¾å’Œå¹³ç§»
     - æ ¹æ®æŒæ¡åº¦ç€è‰²
   - **3D å›¾è°±** (Three.js) âœ¨ æ–°å¢
     - 4ç§å‡ ä½•ä½“ï¼ˆçƒä½“ã€ç«‹æ–¹ä½“ã€åœ†é”¥ã€å…«é¢ä½“ï¼‰
     - 4ç§å¸ƒå±€ç®—æ³•ï¼ˆåŠ›å¯¼å‘ã€çƒå½¢ã€èºæ—‹ã€ç½‘æ ¼ï¼‰
     - äº¤äº’åŠŸèƒ½ï¼ˆæ—‹è½¬ã€ç¼©æ”¾ã€ç‚¹å‡»ã€æ‚¬åœï¼‰
     - è‡ªåŠ¨æ—‹è½¬æ¨¡å¼
     - 2D/3D è§†å›¾åˆ‡æ¢

5. **è®°å¿†èŠ‚ç‚¹ç®¡ç†**
   - èŠ‚ç‚¹åˆ—è¡¨ï¼ˆåˆ†é¡µã€ç­›é€‰ï¼‰
   - èŠ‚ç‚¹åˆ›å»º/ç¼–è¾‘
   - èŠ‚ç‚¹è¯¦æƒ…å±•ç¤º
   - èŠ‚ç‚¹åˆ é™¤

6. **èŠ‚ç‚¹å…³è”ç®¡ç†** âœ¨
   - æŸ¥çœ‹èŠ‚ç‚¹å…³è”å…³ç³»ï¼ˆå…¥åº¦/å‡ºåº¦ï¼‰
   - åˆ›å»ºèŠ‚ç‚¹å…³è”ï¼ˆ6ç§ç±»å‹ï¼‰
   - åˆ é™¤èŠ‚ç‚¹å…³è”
   - å…³è”å¼ºåº¦è®¾ç½®

7. **å¤ä¹ ç³»ç»Ÿ**
   - 4ç§å¤ä¹ æ¨¡å¼ï¼ˆé—´éš”é‡å¤ã€é›†ä¸­æ”»å…‹ã€éšæœºæŠ½æŸ¥ã€å›¾è°±éå†ï¼‰
   - å¤ä¹ å¡ç‰‡å±•ç¤º
   - æŒæ¡åº¦åé¦ˆ
   - å¤ä¹ ç»Ÿè®¡

8. **ç»Ÿè®¡å›¾è¡¨** âœ¨
   - æŒæ¡åº¦åˆ†å¸ƒæŸ±çŠ¶å›¾
   - èŠ‚ç‚¹ç±»å‹åˆ†å¸ƒé¥¼å›¾
   - æ—¶é—´è¶‹åŠ¿æŠ˜çº¿å›¾
   - æ ‡ç­¾ç»Ÿè®¡æ¨ªå‘æŸ±çŠ¶å›¾
   - ç±»å‹æŒæ¡åº¦é›·è¾¾å›¾

9. **ä¸ªäººä¸­å¿ƒ** âœ¨
   - ç”¨æˆ·ä¿¡æ¯ç¼–è¾‘
   - å¯†ç ä¿®æ”¹
   - å­¦ä¹ æ•°æ®å±•ç¤º
   - å­¦ä¹ ç»Ÿè®¡å›¾è¡¨

10. **å‘é‡æœç´¢** âœ¨
    - æ™ºèƒ½æœç´¢æ¡†
    - ç›¸ä¼¼èŠ‚ç‚¹æ¨è
    - æœç´¢å‚æ•°é…ç½®
    - å…¨å±€æœç´¢é›†æˆ
   - è‡ªåŠ¨ç™»å½•çŠ¶æ€æ¢å¤

2. **ä¸»å¸ƒå±€**
   - å“åº”å¼å¯¼èˆªæ 
   - ç”¨æˆ·ä¿¡æ¯ä¸‹æ‹‰èœå•
   - ç»Ÿä¸€çš„é¡µé¢å¸ƒå±€
   - å…¨å±€æœç´¢æŒ‰é’® âœ¨

3. **é¦–é¡µ**
   - å­¦ä¹ ç»Ÿè®¡å±•ç¤º
   - æœ€è¿‘å›¾è°±åˆ—è¡¨
   - å¿«é€Ÿæ“ä½œå…¥å£

4. **çŸ¥è¯†å›¾è°±ç®¡ç†**
   - å›¾è°±åˆ—è¡¨å±•ç¤º
   - åˆ›å»º/ç¼–è¾‘/åˆ é™¤å›¾è°±
   - å›¾è°±å¡ç‰‡è§†å›¾
   - å›¾è°±è¯¦æƒ…é¡µé¢

5. **çŸ¥è¯†å›¾è°±å¯è§†åŒ–** âœ¨
   - 2D å›¾è°±æ¸²æŸ“ï¼ˆCytoscape.jsï¼‰
   - 4ç§å¸ƒå±€ç®—æ³•ï¼ˆå±‚æ¬¡ã€ç¯å½¢ã€ç½‘æ ¼ã€åŒå¿ƒåœ†ï¼‰
   - èŠ‚ç‚¹äº¤äº’ï¼ˆç‚¹å‡»ã€æ‚¬åœã€ç¼©æ”¾ã€æ‹–æ‹½ï¼‰
   - é¢œè‰²æ ‡æ³¨ç³»ç»Ÿï¼ˆæŒæ¡ç¨‹åº¦ï¼‰
   - èŠ‚ç‚¹å½¢çŠ¶åŒºåˆ†ï¼ˆæ¦‚å¿µã€é¢˜ç›®ã€ç¬”è®°ã€èµ„æºï¼‰

6. **èŠ‚ç‚¹ç®¡ç†** âœ¨
   - èŠ‚ç‚¹åˆ—è¡¨å±•ç¤º
   - åˆ›å»º/ç¼–è¾‘/åˆ é™¤èŠ‚ç‚¹
   - èŠ‚ç‚¹è¯¦æƒ…æŸ¥çœ‹
   - èŠ‚ç‚¹å…³è”ç®¡ç†ï¼ˆæŸ¥çœ‹ã€åˆ›å»ºã€åˆ é™¤å…³è”ï¼‰

7. **æ–‡ä»¶ä¸Šä¼ å’Œåˆ†æ** âœ¨
   - æ‹–æ‹½ä¸Šä¼ ç»„ä»¶
   - å›¾ç‰‡é¢„è§ˆ
   - OCR è¯†åˆ«ç•Œé¢
   - AI åˆ†æç»“æœå±•ç¤º
   - é¢˜ç›®åˆ†ææµç¨‹ï¼ˆ4æ­¥éª¤ï¼‰

8. **å¤ä¹ ä¸­å¿ƒ** âœ¨
   - å¤ä¹ ç»Ÿè®¡å±•ç¤º
   - 4ç§å¤ä¹ æ¨¡å¼é€‰æ‹©
   - å¤ä¹ å¡ç‰‡ç•Œé¢
   - å¤ä¹ åé¦ˆæäº¤
   - å­¦ä¹ è¿›åº¦å±•ç¤º

9. **ç»Ÿè®¡åˆ†æ** âœ¨
   - æŒæ¡åº¦åˆ†å¸ƒå›¾ï¼ˆæŸ±çŠ¶å›¾ï¼‰
   - èŠ‚ç‚¹ç±»å‹åˆ†å¸ƒå›¾ï¼ˆé¥¼å›¾ï¼‰
   - æ—¶é—´è¶‹åŠ¿å›¾ï¼ˆæŠ˜çº¿å›¾ï¼‰
   - æ ‡ç­¾ç»Ÿè®¡å›¾ï¼ˆæ¨ªå‘æŸ±çŠ¶å›¾ï¼‰
   - ç±»å‹æŒæ¡åº¦é›·è¾¾å›¾
   - ç»Ÿè®¡æ‘˜è¦å¡ç‰‡

10. **ä¸ªäººä¸­å¿ƒ** âœ¨
    - ç”¨æˆ·ä¿¡æ¯å±•ç¤ºå’Œç¼–è¾‘
    - å¯†ç ä¿®æ”¹åŠŸèƒ½
    - å­¦ä¹ ç»Ÿè®¡æ•°æ®
    - å­¦ä¹ æˆå°±å±•ç¤º
    - æŒæ¡åº¦åˆ†å¸ƒå›¾
    - æœ€è¿‘æ´»åŠ¨è¶‹åŠ¿å›¾

11. **å‘é‡æœç´¢** âœ¨
    - æ™ºèƒ½æœç´¢æ¡†
    - æœç´¢å‚æ•°é…ç½®
    - ç›¸ä¼¼èŠ‚ç‚¹æ¨è
    - å…¨å±€æœç´¢åŠŸèƒ½
    - å¿«æ·é”®æ”¯æŒï¼ˆCtrl+Enterï¼‰

### ğŸš§ å¾…å¼€å‘

1. **3D çŸ¥è¯†å›¾è°±å¯è§†åŒ–**
   - Three.js é›†æˆ
   - 3D åŠ›å¯¼å‘å¸ƒå±€
   - è§†è§’æ§åˆ¶
   - 3D åŠ¨ç”»æ•ˆæœ

2. **æ€§èƒ½ä¼˜åŒ–**
   - ä»£ç åˆ†å‰²ä¼˜åŒ–
   - å›¾ç‰‡æ‡’åŠ è½½
   - è™šæ‹Ÿåˆ—è¡¨
   - ç¼“å­˜ç­–ç•¥

3. **é«˜çº§åŠŸèƒ½**
   - å¤ä¹ æé†’é€šçŸ¥
   - æ•°æ®å¯¼å‡ºåŠŸèƒ½
   - ä¸»é¢˜åˆ‡æ¢
   - ç§»åŠ¨ç«¯ä¼˜åŒ–

## API é…ç½®

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
VITE_API_BASE_URL=http://localhost:8000
```

## è®¾è®¡è§„èŒƒ

### é¢œè‰²ä¸»é¢˜

- **ä¸»è‰²**: `#667eea` (ç´«è‰²æ¸å˜)
- **è¾…åŠ©è‰²**: `#764ba2` (æ·±ç´«è‰²)
- **æˆåŠŸ**: `#52c41a`
- **è­¦å‘Š**: `#faad14`
- **é”™è¯¯**: `#f5222d`
- **ä¿¡æ¯**: `#1890ff`

### å­—ä½“

- **ä¸»å­—ä½“**: Inter
- **å¤‡ç”¨å­—ä½“**: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif

### åœ†è§’

- **å¡ç‰‡**: 12px
- **æŒ‰é’®**: 8px
- **è¾“å…¥æ¡†**: 10px

## ä»£ç è§„èŒƒ

### ç»„ä»¶è§„èŒƒ

```typescript
import React from 'react';
import { Button } from 'antd';

interface MyComponentProps {
  title: string;
  onAction?: () => void;
}

const MyComponent: React.FC<MyComponentProps> = ({ title, onAction }) => {
  return (
    <div>
      <h1>{title}</h1>
      <Button onClick={onAction}>Action</Button>
    </div>
  );
};

export default MyComponent;
```

### API è°ƒç”¨è§„èŒƒ

```typescript
import { useState, useEffect } from 'react';
import { knowledgeGraphService } from '../services/knowledgeGraph';
import { message } from 'antd';

const MyComponent = () => {
  const [loading, setLoading] = useState(false);
  const [data, setData] = useState([]);

  useEffect(() => {
    loadData();
  }, []);

  const loadData = async () => {
    setLoading(true);
    try {
      const response = await knowledgeGraphService.getGraphs();
      setData(response.items);
    } catch (error) {
      message.error('åŠ è½½å¤±è´¥');
    } finally {
      setLoading(false);
    }
  };

  return <div>{/* ... */}</div>;
};
```

### Redux ä½¿ç”¨è§„èŒƒ

```typescript
import { useAppDispatch, useAppSelector } from '../store/hooks';
import { setUser } from '../store/authSlice';

const MyComponent = () => {
  const dispatch = useAppDispatch();
  const user = useAppSelector((state) => state.auth.user);

  const handleLogin = (userData) => {
    dispatch(setUser(userData));
  };

  return <div>{/* ... */}</div>;
};
```

## æ€§èƒ½ä¼˜åŒ–

1. **è·¯ç”±æ‡’åŠ è½½**: ä½¿ç”¨ `React.lazy()` å’Œ `Suspense`
2. **ç»„ä»¶æ‡’åŠ è½½**: æŒ‰éœ€åŠ è½½å¤§å‹ç»„ä»¶
3. **å›¾ç‰‡ä¼˜åŒ–**: ä½¿ç”¨ WebP æ ¼å¼ï¼Œæ·»åŠ æ‡’åŠ è½½
4. **ä»£ç åˆ†å‰²**: Vite è‡ªåŠ¨è¿›è¡Œä»£ç åˆ†å‰²
5. **ç¼“å­˜ç­–ç•¥**: API å“åº”ç¼“å­˜ï¼Œå‡å°‘é‡å¤è¯·æ±‚

## æµè§ˆå™¨æ”¯æŒ

- Chrome >= 90
- Firefox >= 88
- Safari >= 14
- Edge >= 90

## å¼€å‘æ³¨æ„äº‹é¡¹

1. **API è°ƒç”¨**: æ‰€æœ‰ API è°ƒç”¨éƒ½åº”è¯¥æœ‰é”™è¯¯å¤„ç†
2. **åŠ è½½çŠ¶æ€**: å¼‚æ­¥æ“ä½œè¦æ˜¾ç¤ºåŠ è½½çŠ¶æ€
3. **ç”¨æˆ·åé¦ˆ**: æ“ä½œæˆåŠŸ/å¤±è´¥è¦æœ‰æ˜ç¡®çš„æç¤º
4. **å“åº”å¼è®¾è®¡**: æ‰€æœ‰é¡µé¢éƒ½è¦æ”¯æŒç§»åŠ¨ç«¯
5. **ç±»å‹å®‰å…¨**: å……åˆ†åˆ©ç”¨ TypeScript çš„ç±»å‹æ£€æŸ¥

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æ·»åŠ æ–°çš„ API æœåŠ¡ï¼Ÿ

A: åœ¨ `src/services/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„æœåŠ¡æ–‡ä»¶ï¼Œå‚è€ƒç°æœ‰æœåŠ¡çš„ç»“æ„ã€‚

### Q: å¦‚ä½•æ·»åŠ æ–°çš„é¡µé¢ï¼Ÿ

A: 
1. åœ¨ `src/pages/` åˆ›å»ºé¡µé¢ç»„ä»¶
2. åœ¨ `src/router/index.tsx` æ·»åŠ è·¯ç”±é…ç½®
3. å¦‚æœéœ€è¦è®¤è¯ï¼Œä½¿ç”¨ `ProtectedRoute` åŒ…è£¹

### Q: å¦‚ä½•ç®¡ç†å…¨å±€çŠ¶æ€ï¼Ÿ

A: 
1. åœ¨ `src/store/` åˆ›å»ºæ–°çš„ slice
2. åœ¨ `src/store/index.ts` æ³¨å†Œ reducer
3. ä½¿ç”¨ `useAppDispatch` å’Œ `useAppSelector` hooks

## ç›¸å…³æ–‡æ¡£

- [React æ–‡æ¡£](https://react.dev/)
- [Vite æ–‡æ¡£](https://vitejs.dev/)
- [Ant Design æ–‡æ¡£](https://ant.design/)
- [Redux Toolkit æ–‡æ¡£](https://redux-toolkit.js.org/)
- [React Router æ–‡æ¡£](https://reactrouter.com/)

## License

MIT

