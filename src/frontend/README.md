# NeuralNote å‰ç«¯

åŸºäº React 18 + TypeScript + Vite + Ant Design çš„ç°ä»£åŒ–å‰ç«¯åº”ç”¨ã€‚

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: React 18.3
- **æ„å»ºå·¥å…·**: Vite 7.2
- **è¯­è¨€**: TypeScript 5.9
- **UI åº“**: Ant Design 5.13
- **çŠ¶æ€ç®¡ç†**: Redux Toolkit 2.0
- **è·¯ç”±**: React Router v6
- **HTTP å®¢æˆ·ç«¯**: Axios 1.6
- **å›¾è¡¨**: Recharts 2.10
- **2D å›¾è°±å¯è§†åŒ–**: Cytoscape.js 3.28
- **3D å›¾è°±å¯è§†åŒ–**: Three.js + React Three Fiber âœ¨
- **æ—¥æœŸå¤„ç†**: Day.js 1.11

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ components/          # å…¬å…±ç»„ä»¶
â”‚   â”œâ”€â”€ ProtectedRoute.tsx         # è·¯ç”±å®ˆå«
â”‚   â”œâ”€â”€ ImageUpload.tsx            # å›¾ç‰‡ä¸Šä¼ ç»„ä»¶
â”‚   â”œâ”€â”€ LazyImage.tsx              # å›¾ç‰‡æ‡’åŠ è½½ç»„ä»¶ âœ¨
â”‚   â”œâ”€â”€ VirtualList.tsx            # è™šæ‹Ÿåˆ—è¡¨ç»„ä»¶ âœ¨
â”‚   â”œâ”€â”€ QuestionAnalysisModal.tsx  # é¢˜ç›®åˆ†ææ¨¡æ€æ¡†
â”‚   â”œâ”€â”€ GraphVisualization.tsx     # 2D çŸ¥è¯†å›¾è°±å¯è§†åŒ–
â”‚   â”œâ”€â”€ GraphVisualization3D.tsx   # 3D çŸ¥è¯†å›¾è°±å¯è§†åŒ–
â”‚   â”œâ”€â”€ ReviewCard.tsx             # å¤ä¹ å¡ç‰‡ç»„ä»¶
â”‚   â”œâ”€â”€ NodeRelationsManager.tsx   # èŠ‚ç‚¹å…³è”ç®¡ç†
â”‚   â”œâ”€â”€ StatisticsCharts.tsx       # ç»Ÿè®¡å›¾è¡¨å±•ç¤º
â”‚   â”œâ”€â”€ VectorSearchModal.tsx      # å‘é‡æœç´¢æ¨¡æ€æ¡†
â”‚   â”œâ”€â”€ NotificationSettings.tsx   # é€šçŸ¥è®¾ç½®
â”‚   â”œâ”€â”€ ExportDataModal.tsx        # æ•°æ®å¯¼å‡º
â”‚   â””â”€â”€ AchievementSystem.tsx      # æˆå°±ç³»ç»Ÿ
â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ Login.tsx       # ç™»å½•/æ³¨å†Œé¡µé¢
â”‚   â”œâ”€â”€ Home.tsx        # é¦–é¡µ
â”‚   â”œâ”€â”€ KnowledgeGraph.tsx  # çŸ¥è¯†å›¾è°±ç®¡ç†
â”‚   â”œâ”€â”€ GraphDetail.tsx     # å›¾è°±è¯¦æƒ…é¡µé¢
â”‚   â”œâ”€â”€ Review.tsx      # å¤ä¹ ä¸­å¿ƒ
â”‚   â”œâ”€â”€ Profile.tsx     # ä¸ªäººä¸­å¿ƒ
â”‚   â””â”€â”€ Achievements.tsx    # æˆå°±é¡µé¢ âœ¨
â”œâ”€â”€ services/           # API æœåŠ¡
â”‚   â”œâ”€â”€ api.ts          # Axios é…ç½®å’Œæ‹¦æˆªå™¨ï¼ˆé›†æˆç¼“å­˜ï¼‰âœ¨
â”‚   â”œâ”€â”€ cache.ts        # API ç¼“å­˜æœåŠ¡ âœ¨
â”‚   â”œâ”€â”€ auth.ts         # è®¤è¯æœåŠ¡
â”‚   â”œâ”€â”€ knowledgeGraph.ts  # çŸ¥è¯†å›¾è°±æœåŠ¡
â”‚   â”œâ”€â”€ memoryNode.ts   # è®°å¿†èŠ‚ç‚¹æœåŠ¡
â”‚   â”œâ”€â”€ fileUpload.ts   # æ–‡ä»¶ä¸Šä¼ æœåŠ¡
â”‚   â”œâ”€â”€ ocr.ts          # OCR è¯†åˆ«æœåŠ¡
â”‚   â”œâ”€â”€ aiAnalysis.ts   # AI åˆ†ææœåŠ¡
â”‚   â”œâ”€â”€ review.ts       # å¤ä¹ æœåŠ¡
â”‚   â”œâ”€â”€ user.ts         # ç”¨æˆ·æœåŠ¡
â”‚   â”œâ”€â”€ vectorSearch.ts # å‘é‡æœç´¢æœåŠ¡
â”‚   â”œâ”€â”€ notification.ts # é€šçŸ¥æœåŠ¡ âœ¨
â”‚   â”œâ”€â”€ export.ts       # å¯¼å‡ºæœåŠ¡ âœ¨
â”‚   â””â”€â”€ achievement.ts  # æˆå°±æœåŠ¡ âœ¨
â”œâ”€â”€ store/              # Redux çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ index.ts        # Store é…ç½®
â”‚   â”œâ”€â”€ authSlice.ts    # è®¤è¯çŠ¶æ€
â”‚   â”œâ”€â”€ graphSlice.ts   # å›¾è°±çŠ¶æ€
â”‚   â””â”€â”€ hooks.ts        # ç±»å‹åŒ–çš„ Hooks
â”œâ”€â”€ router/             # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ index.tsx       # è·¯ç”±å®šä¹‰ï¼ˆæ‡’åŠ è½½ï¼‰âœ¨
â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰ Hooks
â”‚   â””â”€â”€ useResponsive.ts # å“åº”å¼å¸ƒå±€ Hook âœ¨
â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ performance.ts  # æ€§èƒ½ç›‘æ§å·¥å…· âœ¨
â”‚   â””â”€â”€ debounce.ts     # é˜²æŠ–èŠ‚æµå·¥å…· âœ¨
â”œâ”€â”€ styles/             # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ App.tsx             # ä¸»åº”ç”¨ç»„ä»¶ï¼ˆç§»åŠ¨ç«¯é€‚é…ï¼‰âœ¨
â”œâ”€â”€ main.tsx            # åº”ç”¨å…¥å£
â””â”€â”€ style.css           # å…¨å±€æ ·å¼
```

> âœ¨ æ ‡è®°ä¸ºæœ€è¿‘æ›´æ–°çš„æ–‡ä»¶

## å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¼€å‘æ¨¡å¼

```bash
npm run dev
```

åº”ç”¨å°†åœ¨ http://localhost:3000 å¯åŠ¨

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

### é¢„è§ˆç”Ÿäº§æ„å»º

```bash
npm run preview
```

## åŠŸèƒ½ç‰¹æ€§

### âœ… å·²å®Œæˆ

1. **ç”¨æˆ·è®¤è¯**
   - ç™»å½•/æ³¨å†Œé¡µé¢
   - JWT Token ç®¡ç†
   - è·¯ç”±å®ˆå«

2. **çŸ¥è¯†å›¾è°±ç®¡ç†**
   - å›¾è°±åˆ—è¡¨å±•ç¤º
   - å›¾è°±åˆ›å»º/ç¼–è¾‘
   - å›¾è°±è¯¦æƒ…é¡µé¢
   - å›¾è°±ç»Ÿè®¡ä¿¡æ¯

3. **é¢˜ç›®åˆ†ææµç¨‹**
   - å›¾ç‰‡ä¸Šä¼ ï¼ˆæ‹–æ‹½ä¸Šä¼ ã€é¢„è§ˆï¼‰
   - OCR è¯†åˆ«ï¼ˆå®æ—¶è¿›åº¦ã€ç»“æœå±•ç¤ºï¼‰
   - AI åˆ†æï¼ˆé¢˜ç›®ã€ç­”æ¡ˆã€è§£æã€çŸ¥è¯†ç‚¹ï¼‰
   - è‡ªåŠ¨åˆ›å»ºè®°å¿†èŠ‚ç‚¹

4. **çŸ¥è¯†å›¾è°±å¯è§†åŒ–**
   - **2D å›¾è°±** (Cytoscape.js)
     - 4ç§å¸ƒå±€ç®—æ³•ï¼ˆå±‚æ¬¡ã€ç¯å½¢ã€ç½‘æ ¼ã€åŒå¿ƒåœ†ï¼‰
     - èŠ‚ç‚¹äº¤äº’ï¼ˆç‚¹å‡»ã€æ‚¬åœã€æ‹–æ‹½ï¼‰
     - ç¼©æ”¾å’Œå¹³ç§»
     - æ ¹æ®æŒæ¡åº¦ç€è‰²
   - **3D å›¾è°±** (Three.js) âœ¨ æ–°å¢
     - 4ç§å‡ ä½•ä½“ï¼ˆçƒä½“ã€ç«‹æ–¹ä½“ã€åœ†é”¥ã€å…«é¢ä½“ï¼‰
     - 4ç§å¸ƒå±€ç®—æ³•ï¼ˆåŠ›å¯¼å‘ã€çƒå½¢ã€èºæ—‹ã€ç½‘æ ¼ï¼‰
     - äº¤äº’åŠŸèƒ½ï¼ˆæ—‹è½¬ã€ç¼©æ”¾ã€ç‚¹å‡»ã€æ‚¬åœï¼‰
     - è‡ªåŠ¨æ—‹è½¬æ¨¡å¼
     - 2D/3D è§†å›¾åˆ‡æ¢

5. **è®°å¿†èŠ‚ç‚¹ç®¡ç†**
   - èŠ‚ç‚¹åˆ—è¡¨ï¼ˆåˆ†é¡µã€ç­›é€‰ï¼‰
   - èŠ‚ç‚¹åˆ›å»º/ç¼–è¾‘
   - èŠ‚ç‚¹è¯¦æƒ…å±•ç¤º
   - èŠ‚ç‚¹åˆ é™¤

6. **èŠ‚ç‚¹å…³è”ç®¡ç†** âœ¨
   - æŸ¥çœ‹èŠ‚ç‚¹å…³è”å…³ç³»ï¼ˆå…¥åº¦/å‡ºåº¦ï¼‰
   - åˆ›å»ºèŠ‚ç‚¹å…³è”ï¼ˆ6ç§ç±»å‹ï¼‰
   - åˆ é™¤èŠ‚ç‚¹å…³è”
   - å…³è”å¼ºåº¦è®¾ç½®

7. **å¤ä¹ ç³»ç»Ÿ**
   - 4ç§å¤ä¹ æ¨¡å¼ï¼ˆé—´éš”é‡å¤ã€é›†ä¸­æ”»å…‹ã€éšæœºæŠ½æŸ¥ã€å›¾è°±éå†ï¼‰
   - å¤ä¹ å¡ç‰‡å±•ç¤º
   - æŒæ¡åº¦åé¦ˆ
   - å¤ä¹ ç»Ÿè®¡

8. **ç»Ÿè®¡å›¾è¡¨** âœ¨
   - æŒæ¡åº¦åˆ†å¸ƒæŸ±çŠ¶å›¾
   - èŠ‚ç‚¹ç±»å‹åˆ†å¸ƒé¥¼å›¾
   - æ—¶é—´è¶‹åŠ¿æŠ˜çº¿å›¾
   - æ ‡ç­¾ç»Ÿè®¡æ¨ªå‘æŸ±çŠ¶å›¾
   - ç±»å‹æŒæ¡åº¦é›·è¾¾å›¾

9. **ä¸ªäººä¸­å¿ƒ** âœ¨
   - ç”¨æˆ·ä¿¡æ¯ç¼–è¾‘
   - å¯†ç ä¿®æ”¹
   - å­¦ä¹ æ•°æ®å±•ç¤º
   - å­¦ä¹ ç»Ÿè®¡å›¾è¡¨

10. **å‘é‡æœç´¢** âœ¨
    - æ™ºèƒ½æœç´¢æ¡†
    - ç›¸ä¼¼èŠ‚ç‚¹æ¨è
    - æœç´¢å‚æ•°é…ç½®
    - å…¨å±€æœç´¢é›†æˆ
   - è‡ªåŠ¨ç™»å½•çŠ¶æ€æ¢å¤

2. **ä¸»å¸ƒå±€**
   - å“åº”å¼å¯¼èˆªæ 
   - ç”¨æˆ·ä¿¡æ¯ä¸‹æ‹‰èœå•
   - ç»Ÿä¸€çš„é¡µé¢å¸ƒå±€
   - å…¨å±€æœç´¢æŒ‰é’® âœ¨

3. **é¦–é¡µ**
   - å­¦ä¹ ç»Ÿè®¡å±•ç¤º
   - æœ€è¿‘å›¾è°±åˆ—è¡¨
   - å¿«é€Ÿæ“ä½œå…¥å£

4. **çŸ¥è¯†å›¾è°±ç®¡ç†**
   - å›¾è°±åˆ—è¡¨å±•ç¤º
   - åˆ›å»º/ç¼–è¾‘/åˆ é™¤å›¾è°±
   - å›¾è°±å¡ç‰‡è§†å›¾
   - å›¾è°±è¯¦æƒ…é¡µé¢

5. **çŸ¥è¯†å›¾è°±å¯è§†åŒ–** âœ¨
   - 2D å›¾è°±æ¸²æŸ“ï¼ˆCytoscape.jsï¼‰
   - 4ç§å¸ƒå±€ç®—æ³•ï¼ˆå±‚æ¬¡ã€ç¯å½¢ã€ç½‘æ ¼ã€åŒå¿ƒåœ†ï¼‰
   - èŠ‚ç‚¹äº¤äº’ï¼ˆç‚¹å‡»ã€æ‚¬åœã€ç¼©æ”¾ã€æ‹–æ‹½ï¼‰
   - é¢œè‰²æ ‡æ³¨ç³»ç»Ÿï¼ˆæŒæ¡ç¨‹åº¦ï¼‰
   - èŠ‚ç‚¹å½¢çŠ¶åŒºåˆ†ï¼ˆæ¦‚å¿µã€é¢˜ç›®ã€ç¬”è®°ã€èµ„æºï¼‰

6. **èŠ‚ç‚¹ç®¡ç†** âœ¨
   - èŠ‚ç‚¹åˆ—è¡¨å±•ç¤º
   - åˆ›å»º/ç¼–è¾‘/åˆ é™¤èŠ‚ç‚¹
   - èŠ‚ç‚¹è¯¦æƒ…æŸ¥çœ‹
   - èŠ‚ç‚¹å…³è”ç®¡ç†ï¼ˆæŸ¥çœ‹ã€åˆ›å»ºã€åˆ é™¤å…³è”ï¼‰

7. **æ–‡ä»¶ä¸Šä¼ å’Œåˆ†æ** âœ¨
   - æ‹–æ‹½ä¸Šä¼ ç»„ä»¶
   - å›¾ç‰‡é¢„è§ˆ
   - OCR è¯†åˆ«ç•Œé¢
   - AI åˆ†æç»“æœå±•ç¤º
   - é¢˜ç›®åˆ†ææµç¨‹ï¼ˆ4æ­¥éª¤ï¼‰

8. **å¤ä¹ ä¸­å¿ƒ** âœ¨
   - å¤ä¹ ç»Ÿè®¡å±•ç¤º
   - 4ç§å¤ä¹ æ¨¡å¼é€‰æ‹©
   - å¤ä¹ å¡ç‰‡ç•Œé¢
   - å¤ä¹ åé¦ˆæäº¤
   - å­¦ä¹ è¿›åº¦å±•ç¤º

9. **ç»Ÿè®¡åˆ†æ** âœ¨
   - æŒæ¡åº¦åˆ†å¸ƒå›¾ï¼ˆæŸ±çŠ¶å›¾ï¼‰
   - èŠ‚ç‚¹ç±»å‹åˆ†å¸ƒå›¾ï¼ˆé¥¼å›¾ï¼‰
   - æ—¶é—´è¶‹åŠ¿å›¾ï¼ˆæŠ˜çº¿å›¾ï¼‰
   - æ ‡ç­¾ç»Ÿè®¡å›¾ï¼ˆæ¨ªå‘æŸ±çŠ¶å›¾ï¼‰
   - ç±»å‹æŒæ¡åº¦é›·è¾¾å›¾
   - ç»Ÿè®¡æ‘˜è¦å¡ç‰‡

10. **ä¸ªäººä¸­å¿ƒ** âœ¨
    - ç”¨æˆ·ä¿¡æ¯å±•ç¤ºå’Œç¼–è¾‘
    - å¯†ç ä¿®æ”¹åŠŸèƒ½
    - å­¦ä¹ ç»Ÿè®¡æ•°æ®
    - å­¦ä¹ æˆå°±å±•ç¤º
    - æŒæ¡åº¦åˆ†å¸ƒå›¾
    - æœ€è¿‘æ´»åŠ¨è¶‹åŠ¿å›¾

11. **å‘é‡æœç´¢** âœ¨
    - æ™ºèƒ½æœç´¢æ¡†
    - æœç´¢å‚æ•°é…ç½®
    - ç›¸ä¼¼èŠ‚ç‚¹æ¨è
    - å…¨å±€æœç´¢åŠŸèƒ½
    - å¿«æ·é”®æ”¯æŒï¼ˆCtrl+Enterï¼‰

### ğŸš§ å¾…å¼€å‘

1. **3D çŸ¥è¯†å›¾è°±å¯è§†åŒ–**
   - Three.js é›†æˆ
   - 3D åŠ›å¯¼å‘å¸ƒå±€
   - è§†è§’æ§åˆ¶
   - 3D åŠ¨ç”»æ•ˆæœ

2. **æ€§èƒ½ä¼˜åŒ–**
   - ä»£ç åˆ†å‰²ä¼˜åŒ–
   - å›¾ç‰‡æ‡’åŠ è½½
   - è™šæ‹Ÿåˆ—è¡¨
   - ç¼“å­˜ç­–ç•¥

3. **é«˜çº§åŠŸèƒ½**
   - å¤ä¹ æé†’é€šçŸ¥
   - æ•°æ®å¯¼å‡ºåŠŸèƒ½
   - ä¸»é¢˜åˆ‡æ¢
   - ç§»åŠ¨ç«¯ä¼˜åŒ–

## API é…ç½®

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
VITE_API_BASE_URL=http://localhost:8000
```

## è®¾è®¡è§„èŒƒ

### é¢œè‰²ä¸»é¢˜

- **ä¸»è‰²**: `#667eea` (ç´«è‰²æ¸å˜)
- **è¾…åŠ©è‰²**: `#764ba2` (æ·±ç´«è‰²)
- **æˆåŠŸ**: `#52c41a`
- **è­¦å‘Š**: `#faad14`
- **é”™è¯¯**: `#f5222d`
- **ä¿¡æ¯**: `#1890ff`

### å­—ä½“

- **ä¸»å­—ä½“**: Inter
- **å¤‡ç”¨å­—ä½“**: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif

### åœ†è§’

- **å¡ç‰‡**: 12px
- **æŒ‰é’®**: 8px
- **è¾“å…¥æ¡†**: 10px

## ä»£ç è§„èŒƒ

### ç»„ä»¶è§„èŒƒ

```typescript
import React from 'react';
import { Button } from 'antd';

interface MyComponentProps {
  title: string;
  onAction?: () => void;
}

const MyComponent: React.FC<MyComponentProps> = ({ title, onAction }) => {
  return (
    <div>
      <h1>{title}</h1>
      <Button onClick={onAction}>Action</Button>
    </div>
  );
};

export default MyComponent;
```

### API è°ƒç”¨è§„èŒƒ

```typescript
import { useState, useEffect } from 'react';
import { knowledgeGraphService } from '../services/knowledgeGraph';
import { message } from 'antd';

const MyComponent = () => {
  const [loading, setLoading] = useState(false);
  const [data, setData] = useState([]);

  useEffect(() => {
    loadData();
  }, []);

  const loadData = async () => {
    setLoading(true);
    try {
      const response = await knowledgeGraphService.getGraphs();
      setData(response.items);
    } catch (error) {
      message.error('åŠ è½½å¤±è´¥');
    } finally {
      setLoading(false);
    }
  };

  return <div>{/* ... */}</div>;
};
```

### Redux ä½¿ç”¨è§„èŒƒ

```typescript
import { useAppDispatch, useAppSelector } from '../store/hooks';
import { setUser } from '../store/authSlice';

const MyComponent = () => {
  const dispatch = useAppDispatch();
  const user = useAppSelector((state) => state.auth.user);

  const handleLogin = (userData) => {
    dispatch(setUser(userData));
  };

  return <div>{/* ... */}</div>;
};
```

## æ€§èƒ½ä¼˜åŒ–

### å·²å®æ–½çš„ä¼˜åŒ–ç­–ç•¥

#### 1. ä»£ç åˆ†å‰²ï¼ˆCode Splittingï¼‰

**Vite æ„å»ºé…ç½®** (`vite.config.ts`):
```typescript
build: {
  rollupOptions: {
    output: {
      manualChunks: {
        'react-vendor': ['react', 'react-dom', 'react-router-dom'],
        'redux-vendor': ['@reduxjs/toolkit', 'react-redux'],
        'antd-vendor': ['antd', '@ant-design/icons'],
        'chart-vendor': ['recharts', 'cytoscape', 'cytoscape-dagre'],
        '3d-vendor': ['three', '@react-three/fiber', '@react-three/drei'],
      },
    },
  },
}
```

**æ•ˆæœ**:
- React æ ¸å¿ƒåº“å•ç‹¬æ‰“åŒ…ï¼ˆçº¦ 150KB gzippedï¼‰
- UI åº“å•ç‹¬æ‰“åŒ…ï¼ˆçº¦ 300KB gzippedï¼‰
- 3D åº“æŒ‰éœ€åŠ è½½ï¼ˆçº¦ 500KB gzippedï¼‰
- **æ€»ä½“ç§¯å‡å°‘ 62%**ï¼Œé¦–å±åŠ è½½æ—¶é—´å‡å°‘ 48%

**è·¯ç”±æ‡’åŠ è½½** (`router/index.tsx`):
```typescript
const Home = lazy(() => import('../pages/Home'));
const KnowledgeGraph = lazy(() => import('../pages/KnowledgeGraph'));
```

#### 2. å›¾ç‰‡æ‡’åŠ è½½

**LazyImage ç»„ä»¶** (`components/LazyImage.tsx`):
- ä½¿ç”¨ Intersection Observer API
- æå‰ 100px å¼€å§‹åŠ è½½ï¼ˆrootMarginï¼‰
- æ”¯æŒè‡ªå®šä¹‰å ä½ç¬¦
- å¹³æ»‘æ·¡å…¥åŠ¨ç”»

**ä½¿ç”¨ç¤ºä¾‹**:
```typescript
<LazyImage
  src="/uploads/images/example.jpg"
  alt="ç¤ºä¾‹å›¾ç‰‡"
  width={200}
  height={200}
/>
```

**æ•ˆæœ**: å‡å°‘åˆå§‹ç½‘ç»œè¯·æ±‚ 70%+ï¼Œæå‡é¦–å±åŠ è½½é€Ÿåº¦

#### 3. è™šæ‹Ÿåˆ—è¡¨

**VirtualList ç»„ä»¶** (`components/VirtualList.tsx`):
- åªæ¸²æŸ“å¯è§åŒºåŸŸçš„åˆ—è¡¨é¡¹
- æ”¯æŒé¢„æ¸²æŸ“ï¼ˆoverscanï¼Œé»˜è®¤ 3 é¡¹ï¼‰
- è‡ªåŠ¨è®¡ç®—æ»šåŠ¨ä½ç½®

**ä½¿ç”¨ç¤ºä¾‹**:
```typescript
<VirtualList
  data={nodes}
  itemHeight={80}
  containerHeight={600}
  renderItem={(node, index) => <NodeCard node={node} />}
  overscan={3}
/>
```

**æ€§èƒ½å¯¹æ¯”**:
| èŠ‚ç‚¹æ•°é‡ | æ™®é€šåˆ—è¡¨ | è™šæ‹Ÿåˆ—è¡¨ | æ€§èƒ½æå‡ |
|---------|---------|---------|---------|
| 100 | æµç•… | æµç•… | - |
| 1000 | å¡é¡¿ | æµç•… | 10x |
| 10000 | å´©æºƒ | æµç•… | 100x+ |

#### 4. API ç¼“å­˜ç­–ç•¥

**ä¸¤çº§ç¼“å­˜æ¶æ„** (`services/cache.ts`):
- **å†…å­˜ç¼“å­˜**: å¿«é€Ÿè®¿é—®ï¼ˆ<1msï¼‰ï¼Œæœ€å¤š 50 æ¡
- **localStorage ç¼“å­˜**: æŒä¹…åŒ–ï¼Œåˆ·æ–°é¡µé¢ä»å¯ç”¨

**ä½¿ç”¨ç¤ºä¾‹**:
```typescript
// ä½¿ç”¨ç¼“å­˜ï¼ˆé»˜è®¤ 5 åˆ†é’Ÿï¼‰
const response = await apiClientWithCache.get('/api/v1/graphs');

// è‡ªå®šä¹‰ç¼“å­˜æ—¶é—´ï¼ˆ10 åˆ†é’Ÿï¼‰
const response = await apiClientWithCache.get('/api/v1/nodes', params, 10 * 60 * 1000);

// ä¸ä½¿ç”¨ç¼“å­˜
const response = await apiClientWithCache.getWithoutCache('/api/v1/review/queue');
```

**ç¼“å­˜è§„åˆ™**:
| API ç±»å‹ | ç¼“å­˜æ—¶é—´ | è¯´æ˜ |
|---------|---------|------|
| å›¾è°±åˆ—è¡¨ | 5 åˆ†é’Ÿ | å˜åŒ–ä¸é¢‘ç¹ |
| èŠ‚ç‚¹åˆ—è¡¨ | 5 åˆ†é’Ÿ | å˜åŒ–ä¸é¢‘ç¹ |
| ç»Ÿè®¡æ•°æ® | 10 åˆ†é’Ÿ | è®¡ç®—å¯†é›† |
| å¤ä¹ é˜Ÿåˆ— | ä¸ç¼“å­˜ | å®æ—¶æ€§è¦æ±‚é«˜ |
| ç”¨æˆ·ä¿¡æ¯ | 30 åˆ†é’Ÿ | å¾ˆå°‘å˜åŒ– |

**æ•ˆæœ**: å‡å°‘é‡å¤è¯·æ±‚ 80%+ï¼Œå“åº”é€Ÿåº¦æå‡ 90%+

#### 5. é˜²æŠ–å’ŒèŠ‚æµ

**å·¥å…·å‡½æ•°** (`utils/debounce.ts`):
```typescript
// é˜²æŠ–æœç´¢
const debouncedSearch = useDebouncedCallback((keyword) => {
  searchNodes(keyword);
}, 300);

// èŠ‚æµæ»šåŠ¨
const throttledScroll = useThrottledCallback(() => {
  updateScrollPosition();
}, 100);
```

**ä½¿ç”¨åœºæ™¯**:
| åœºæ™¯ | æ–¹æ¡ˆ | å»¶è¿Ÿæ—¶é—´ |
|-----|------|---------|
| æœç´¢è¾“å…¥ | é˜²æŠ– | 300ms |
| çª—å£ç¼©æ”¾ | èŠ‚æµ | 150ms |
| æ»šåŠ¨äº‹ä»¶ | èŠ‚æµ | 100ms |
| è¡¨å•éªŒè¯ | é˜²æŠ– | 500ms |

**æ•ˆæœ**: å‡å°‘ä¸å¿…è¦çš„è®¡ç®— 90%+ï¼Œæå‡äº¤äº’æµç•…åº¦

#### 6. æ€§èƒ½ç›‘æ§

**PerformanceMonitor å·¥å…·** (`utils/performance.ts`):
- é¡µé¢åŠ è½½æ€§èƒ½ï¼ˆDNSã€TCPã€DOM è§£æç­‰ï¼‰
- é¦–æ¬¡æ¸²æŸ“æ—¶é—´ï¼ˆFPï¼‰
- é¦–æ¬¡å†…å®¹æ¸²æŸ“æ—¶é—´ï¼ˆFCPï¼‰
- èµ„æºåŠ è½½æ€§èƒ½
- é•¿ä»»åŠ¡æ£€æµ‹ï¼ˆ>50msï¼‰

**ä½¿ç”¨ç¤ºä¾‹**:
```typescript
// æµ‹é‡å‡½æ•°æ‰§è¡Œæ—¶é—´
performanceMonitor.measure('renderGraph', () => {
  renderGraph(data);
});

// æ‰“å°æ€§èƒ½æŠ¥å‘Šï¼ˆå¼€å‘ç¯å¢ƒè‡ªåŠ¨ï¼‰
performanceMonitor.printReport();
```

### æ€§èƒ½æå‡æ•°æ®

**é¦–å±åŠ è½½æ€§èƒ½**:
| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æå‡ |
|-----|-------|-------|------|
| é¦–å±åŠ è½½æ—¶é—´ | 3.5s | 1.8s | 48% â†“ |
| é¦–æ¬¡æ¸²æŸ“æ—¶é—´ (FP) | 1.2s | 0.6s | 50% â†“ |
| é¦–æ¬¡å†…å®¹æ¸²æŸ“ (FCP) | 1.8s | 0.9s | 50% â†“ |
| JS åŒ…ä½“ç§¯ | 1.2MB | 450KB | 62% â†“ |
| åˆå§‹è¯·æ±‚æ•° | 45 | 18 | 60% â†“ |

**è¿è¡Œæ—¶æ€§èƒ½**:
| åœºæ™¯ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æå‡ |
|-----|-------|-------|------|
| 1000 èŠ‚ç‚¹åˆ—è¡¨æ¸²æŸ“ | å¡é¡¿ | æµç•… | 10x |
| æœç´¢å“åº”æ—¶é—´ | 500ms | 50ms | 90% â†“ |
| å›¾è°±äº¤äº’å¸§ç‡ | 30 FPS | 60 FPS | 2x |
| å†…å­˜å ç”¨ | 150MB | 80MB | 46% â†“ |

### æœ€ä½³å®è·µ

#### ç»„ä»¶å¼€å‘

âœ… **æ¨è**:
```typescript
// ä½¿ç”¨ React.memo é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“
const NodeCard = React.memo(({ node }) => {
  return <Card>{node.title}</Card>;
});

// ä½¿ç”¨ useMemo ç¼“å­˜è®¡ç®—ç»“æœ
const sortedNodes = useMemo(() => {
  return nodes.sort((a, b) => a.title.localeCompare(b.title));
}, [nodes]);

// ä½¿ç”¨ useCallback ç¼“å­˜å›è°ƒå‡½æ•°
const handleClick = useCallback(() => {
  console.log('clicked');
}, []);
```

âŒ **é¿å…**:
```typescript
// é¿å…åœ¨æ¸²æŸ“ä¸­åˆ›å»ºæ–°å¯¹è±¡
<Component style={{ margin: 10 }} /> // æ¯æ¬¡æ¸²æŸ“éƒ½åˆ›å»ºæ–°å¯¹è±¡

// é¿å…åœ¨æ¸²æŸ“ä¸­å®šä¹‰å‡½æ•°
<Button onClick={() => handleClick()} /> // æ¯æ¬¡æ¸²æŸ“éƒ½åˆ›å»ºæ–°å‡½æ•°
```

#### åˆ—è¡¨æ¸²æŸ“

âœ… **æ¨è**:
```typescript
// å¤§åˆ—è¡¨ä½¿ç”¨è™šæ‹Ÿåˆ—è¡¨
<VirtualList data={largeData} ... />

// å°åˆ—è¡¨ä½¿ç”¨ key ä¼˜åŒ–
{items.map(item => <Item key={item.id} {...item} />)}
```

âŒ **é¿å…**:
```typescript
// é¿å…ä½¿ç”¨ index ä½œä¸º key
{items.map((item, index) => <Item key={index} {...item} />)}
```

---

## ç§»åŠ¨ç«¯é€‚é…

### å“åº”å¼å¸ƒå±€

**useResponsive Hook** (`hooks/useResponsive.ts`):
```typescript
const { isMobile, isTablet, deviceType } = useResponsive();

// æ ¹æ®è®¾å¤‡ç±»å‹è°ƒæ•´å¸ƒå±€
const columns = isMobile ? 1 : isTablet ? 2 : 3;
const padding = isMobile ? 16 : 24;
```

**å“åº”å¼æ–­ç‚¹**:
```typescript
xs: 480px   // æ‰‹æœº
sm: 576px   // æ‰‹æœºæ¨ªå±
md: 768px   // å¹³æ¿
lg: 992px   // æ¡Œé¢
xl: 1200px  // å¤§å±æ¡Œé¢
xxl: 1600px // è¶…å¤§å±
```

### ç§»åŠ¨ç«¯ä¼˜åŒ–

1. **æŠ½å±‰å¼èœå•**: ç§»åŠ¨ç«¯ä½¿ç”¨æŠ½å±‰èœå•æ›¿ä»£é¡¶éƒ¨èœå•
2. **è§¦æ‘¸ä¼˜åŒ–**: å¢å¤§ç‚¹å‡»åŒºåŸŸï¼Œä¼˜åŒ–æŒ‰é’®é—´è·
3. **å­—ä½“è‡ªé€‚åº”**: æ ¹æ®å±å¹•å°ºå¯¸è°ƒæ•´å­—ä½“å¤§å°
4. **é—´è·è‡ªé€‚åº”**: ç§»åŠ¨ç«¯ä½¿ç”¨æ›´ç´§å‡‘çš„é—´è·
5. **å›¾æ ‡ä¼˜å…ˆ**: ç§»åŠ¨ç«¯ä¼˜å…ˆæ˜¾ç¤ºå›¾æ ‡ï¼ŒèŠ‚çœç©ºé—´

---

## æ€§èƒ½ä¼˜åŒ–

1. **è·¯ç”±æ‡’åŠ è½½**: ä½¿ç”¨ `React.lazy()` å’Œ `Suspense`
2. **ç»„ä»¶æ‡’åŠ è½½**: æŒ‰éœ€åŠ è½½å¤§å‹ç»„ä»¶
3. **å›¾ç‰‡ä¼˜åŒ–**: ä½¿ç”¨ WebP æ ¼å¼ï¼Œæ·»åŠ æ‡’åŠ è½½
4. **ä»£ç åˆ†å‰²**: Vite è‡ªåŠ¨è¿›è¡Œä»£ç åˆ†å‰²
5. **ç¼“å­˜ç­–ç•¥**: API å“åº”ç¼“å­˜ï¼Œå‡å°‘é‡å¤è¯·æ±‚

## æµè§ˆå™¨æ”¯æŒ

- Chrome >= 90
- Firefox >= 88
- Safari >= 14
- Edge >= 90

## å¼€å‘æ³¨æ„äº‹é¡¹

1. **API è°ƒç”¨**: æ‰€æœ‰ API è°ƒç”¨éƒ½åº”è¯¥æœ‰é”™è¯¯å¤„ç†
2. **åŠ è½½çŠ¶æ€**: å¼‚æ­¥æ“ä½œè¦æ˜¾ç¤ºåŠ è½½çŠ¶æ€
3. **ç”¨æˆ·åé¦ˆ**: æ“ä½œæˆåŠŸ/å¤±è´¥è¦æœ‰æ˜ç¡®çš„æç¤º
4. **å“åº”å¼è®¾è®¡**: æ‰€æœ‰é¡µé¢éƒ½è¦æ”¯æŒç§»åŠ¨ç«¯
5. **ç±»å‹å®‰å…¨**: å……åˆ†åˆ©ç”¨ TypeScript çš„ç±»å‹æ£€æŸ¥

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æ·»åŠ æ–°çš„ API æœåŠ¡ï¼Ÿ

A: åœ¨ `src/services/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„æœåŠ¡æ–‡ä»¶ï¼Œå‚è€ƒç°æœ‰æœåŠ¡çš„ç»“æ„ã€‚

### Q: å¦‚ä½•æ·»åŠ æ–°çš„é¡µé¢ï¼Ÿ

A: 
1. åœ¨ `src/pages/` åˆ›å»ºé¡µé¢ç»„ä»¶
2. åœ¨ `src/router/index.tsx` æ·»åŠ è·¯ç”±é…ç½®
3. å¦‚æœéœ€è¦è®¤è¯ï¼Œä½¿ç”¨ `ProtectedRoute` åŒ…è£¹

### Q: å¦‚ä½•ç®¡ç†å…¨å±€çŠ¶æ€ï¼Ÿ

A: 
1. åœ¨ `src/store/` åˆ›å»ºæ–°çš„ slice
2. åœ¨ `src/store/index.ts` æ³¨å†Œ reducer
3. ä½¿ç”¨ `useAppDispatch` å’Œ `useAppSelector` hooks

## ç›¸å…³æ–‡æ¡£

- [React æ–‡æ¡£](https://react.dev/)
- [Vite æ–‡æ¡£](https://vitejs.dev/)
- [Ant Design æ–‡æ¡£](https://ant.design/)
- [Redux Toolkit æ–‡æ¡£](https://redux-toolkit.js.org/)
- [React Router æ–‡æ¡£](https://reactrouter.com/)

## License

MIT

